"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/realtime/predict/route";
exports.ids = ["app/api/realtime/predict/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Fpredict%2Froute&page=%2Fapi%2Frealtime%2Fpredict%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Fpredict%2Froute.ts&appDir=D%3A%5Cmini_adhd1%5Cmini_adhd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmini_adhd1%5Cmini_adhd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Fpredict%2Froute&page=%2Fapi%2Frealtime%2Fpredict%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Fpredict%2Froute.ts&appDir=D%3A%5Cmini_adhd1%5Cmini_adhd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmini_adhd1%5Cmini_adhd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_mini_adhd1_mini_adhd_app_api_realtime_predict_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/realtime/predict/route.ts */ \"(rsc)/./app/api/realtime/predict/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/realtime/predict/route\",\n        pathname: \"/api/realtime/predict\",\n        filename: \"route\",\n        bundlePath: \"app/api/realtime/predict/route\"\n    },\n    resolvedPagePath: \"D:\\\\mini_adhd1\\\\mini_adhd\\\\app\\\\api\\\\realtime\\\\predict\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_mini_adhd1_mini_adhd_app_api_realtime_predict_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/realtime/predict/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWFsdGltZSUyRnByZWRpY3QlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJlYWx0aW1lJTJGcHJlZGljdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJlYWx0aW1lJTJGcHJlZGljdCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDbWluaV9hZGhkMSU1Q21pbmlfYWRoZCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q21pbmlfYWRoZDElNUNtaW5pX2FkaGQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2dCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9jdXNmbG93Lz9mY2QwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXG1pbmlfYWRoZDFcXFxcbWluaV9hZGhkXFxcXGFwcFxcXFxhcGlcXFxccmVhbHRpbWVcXFxccHJlZGljdFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmVhbHRpbWUvcHJlZGljdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3JlYWx0aW1lL3ByZWRpY3RcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3JlYWx0aW1lL3ByZWRpY3Qvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxtaW5pX2FkaGQxXFxcXG1pbmlfYWRoZFxcXFxhcHBcXFxcYXBpXFxcXHJlYWx0aW1lXFxcXHByZWRpY3RcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JlYWx0aW1lL3ByZWRpY3Qvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Fpredict%2Froute&page=%2Fapi%2Frealtime%2Fpredict%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Fpredict%2Froute.ts&appDir=D%3A%5Cmini_adhd1%5Cmini_adhd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmini_adhd1%5Cmini_adhd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/realtime/predict/route.ts":
/*!*******************************************!*\
  !*** ./app/api/realtime/predict/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_ml_predictor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/ml/predictor */ \"(rsc)/./lib/ml/predictor.ts\");\n/* harmony import */ var _lib_realtime_collector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/realtime/collector */ \"(rsc)/./lib/realtime/collector.ts\");\n/* harmony import */ var _models_Prediction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/models/Prediction */ \"(rsc)/./models/Prediction.ts\");\n\n\n\n\n\n\nasync function POST(req) {\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        const claims = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getUserFromCookie)();\n        if (!claims) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n        const { predictionType, timeHorizon = 15 } = await req.json();\n        if (!predictionType) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Prediction type required\"\n            }, {\n                status: 400\n            });\n        }\n        // Get recent data for predictions\n        const recentAttention = await _lib_realtime_collector__WEBPACK_IMPORTED_MODULE_4__.dataCollector.getRecentData(claims.userId, \"attention\", 30);\n        const recentPerformance = await _lib_realtime_collector__WEBPACK_IMPORTED_MODULE_4__.dataCollector.getRecentData(claims.userId, \"performance\", 30);\n        const now = new Date();\n        const input = {\n            recentAttention: recentAttention.map((d)=>d.value),\n            recentPerformance: recentPerformance.map((d)=>d.value),\n            timeOfDay: now.getHours(),\n            dayOfWeek: now.getDay(),\n            sessionDuration: 30,\n            breakCount: 2 // This could be calculated from activity data\n        };\n        let prediction;\n        let predictedValue;\n        let confidence;\n        let explanation;\n        switch(predictionType){\n            case \"attention_trend\":\n                prediction = await _lib_ml_predictor__WEBPACK_IMPORTED_MODULE_3__.mlPredictor.predictAttentionTrend(input);\n                break;\n            case \"performance_forecast\":\n                prediction = await _lib_ml_predictor__WEBPACK_IMPORTED_MODULE_3__.mlPredictor.predictPerformance(input);\n                break;\n            case \"engagement_level\":\n                prediction = await _lib_ml_predictor__WEBPACK_IMPORTED_MODULE_3__.mlPredictor.predictEngagement(input);\n                break;\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid prediction type\"\n                }, {\n                    status: 400\n                });\n        }\n        predictedValue = prediction.predictedValue;\n        confidence = prediction.confidence;\n        explanation = prediction.explanation;\n        // Save prediction to database\n        const predictionRecord = await _models_Prediction__WEBPACK_IMPORTED_MODULE_5__.Prediction.create({\n            userId: claims.userId,\n            predictionType,\n            predictedValue,\n            confidence,\n            timeHorizon,\n            inputFeatures: {\n                recentAttention: input.recentAttention,\n                recentPerformance: input.recentPerformance,\n                timeOfDay: input.timeOfDay,\n                dayOfWeek: input.dayOfWeek,\n                sessionDuration: input.sessionDuration,\n                breakCount: input.breakCount\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            prediction: {\n                id: predictionRecord._id,\n                type: predictionType,\n                predictedValue,\n                confidence,\n                explanation,\n                timeHorizon,\n                createdAt: predictionRecord.createdAt\n            }\n        });\n    } catch (error) {\n        console.error(\"Error making prediction:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(req) {\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        const claims = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getUserFromCookie)();\n        if (!claims) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n        const { searchParams } = new URL(req.url);\n        const predictionType = searchParams.get(\"type\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        let query = {\n            userId: claims.userId\n        };\n        if (predictionType) {\n            query.predictionType = predictionType;\n        }\n        const predictions = await _models_Prediction__WEBPACK_IMPORTED_MODULE_5__.Prediction.find(query).sort({\n            createdAt: -1\n        }).limit(limit);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            predictions\n        });\n    } catch (error) {\n        console.error(\"Error fetching predictions:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3JlYWx0aW1lL3ByZWRpY3Qvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDWDtBQUNFO0FBQ21CO0FBQ1Q7QUFDUjtBQUV6QyxlQUFlTSxLQUFLQyxHQUFnQjtJQUN6QyxJQUFJO1FBQ0YsTUFBTU4sMERBQWlCQTtRQUN2QixNQUFNTyxTQUFTTiw0REFBaUJBO1FBQ2hDLElBQUksQ0FBQ00sUUFBUSxPQUFPUixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZSxHQUFHO1lBQUVDLFFBQVE7UUFBSTtRQUUvRSxNQUFNLEVBQUVDLGNBQWMsRUFBRUMsY0FBYyxFQUFFLEVBQUUsR0FBRyxNQUFNTixJQUFJRSxJQUFJO1FBRTNELElBQUksQ0FBQ0csZ0JBQWdCO1lBQ25CLE9BQU9aLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBMkIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ2hGO1FBRUEsa0NBQWtDO1FBQ2xDLE1BQU1HLGtCQUFrQixNQUFNVixrRUFBYUEsQ0FBQ1csYUFBYSxDQUFDUCxPQUFPUSxNQUFNLEVBQUUsYUFBYTtRQUN0RixNQUFNQyxvQkFBb0IsTUFBTWIsa0VBQWFBLENBQUNXLGFBQWEsQ0FBQ1AsT0FBT1EsTUFBTSxFQUFFLGVBQWU7UUFFMUYsTUFBTUUsTUFBTSxJQUFJQztRQUNoQixNQUFNQyxRQUF5QjtZQUM3Qk4saUJBQWlCQSxnQkFBZ0JPLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsS0FBSztZQUNqRE4sbUJBQW1CQSxrQkFBa0JJLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsS0FBSztZQUNyREMsV0FBV04sSUFBSU8sUUFBUTtZQUN2QkMsV0FBV1IsSUFBSVMsTUFBTTtZQUNyQkMsaUJBQWlCO1lBQ2pCQyxZQUFZLEVBQUUsOENBQThDO1FBQzlEO1FBRUEsSUFBSUM7UUFDSixJQUFJQztRQUNKLElBQUlDO1FBQ0osSUFBSUM7UUFFSixPQUFRckI7WUFDTixLQUFLO2dCQUNIa0IsYUFBYSxNQUFNM0IsMERBQVdBLENBQUMrQixxQkFBcUIsQ0FBQ2Q7Z0JBQ3JEO1lBQ0YsS0FBSztnQkFDSFUsYUFBYSxNQUFNM0IsMERBQVdBLENBQUNnQyxrQkFBa0IsQ0FBQ2Y7Z0JBQ2xEO1lBQ0YsS0FBSztnQkFDSFUsYUFBYSxNQUFNM0IsMERBQVdBLENBQUNpQyxpQkFBaUIsQ0FBQ2hCO2dCQUNqRDtZQUNGO2dCQUNFLE9BQU9wQixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO29CQUFFQyxPQUFPO2dCQUEwQixHQUFHO29CQUFFQyxRQUFRO2dCQUFJO1FBQ2pGO1FBRUFvQixpQkFBaUJELFdBQVdDLGNBQWM7UUFDMUNDLGFBQWFGLFdBQVdFLFVBQVU7UUFDbENDLGNBQWNILFdBQVdHLFdBQVc7UUFFcEMsOEJBQThCO1FBQzlCLE1BQU1JLG1CQUFtQixNQUFNaEMsMERBQVVBLENBQUNpQyxNQUFNLENBQUM7WUFDL0N0QixRQUFRUixPQUFPUSxNQUFNO1lBQ3JCSjtZQUNBbUI7WUFDQUM7WUFDQW5CO1lBQ0EwQixlQUFlO2dCQUNiekIsaUJBQWlCTSxNQUFNTixlQUFlO2dCQUN0Q0csbUJBQW1CRyxNQUFNSCxpQkFBaUI7Z0JBQzFDTyxXQUFXSixNQUFNSSxTQUFTO2dCQUMxQkUsV0FBV04sTUFBTU0sU0FBUztnQkFDMUJFLGlCQUFpQlIsTUFBTVEsZUFBZTtnQkFDdENDLFlBQVlULE1BQU1TLFVBQVU7WUFDOUI7UUFDRjtRQUVBLE9BQU83QixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQ3ZCcUIsWUFBWTtnQkFDVlUsSUFBSUgsaUJBQWlCSSxHQUFHO2dCQUN4QkMsTUFBTTlCO2dCQUNObUI7Z0JBQ0FDO2dCQUNBQztnQkFDQXBCO2dCQUNBOEIsV0FBV04saUJBQWlCTSxTQUFTO1lBQ3ZDO1FBQ0Y7SUFDRixFQUFFLE9BQU9qQyxPQUFPO1FBQ2RrQyxRQUFRbEMsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBT1YscURBQVlBLENBQUNTLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQzdFO0FBQ0Y7QUFFTyxlQUFla0MsSUFBSXRDLEdBQWdCO0lBQ3hDLElBQUk7UUFDRixNQUFNTiwwREFBaUJBO1FBQ3ZCLE1BQU1PLFNBQVNOLDREQUFpQkE7UUFDaEMsSUFBSSxDQUFDTSxRQUFRLE9BQU9SLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFlLEdBQUc7WUFBRUMsUUFBUTtRQUFJO1FBRS9FLE1BQU0sRUFBRW1DLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUl4QyxJQUFJeUMsR0FBRztRQUN4QyxNQUFNcEMsaUJBQWlCa0MsYUFBYUcsR0FBRyxDQUFDO1FBQ3hDLE1BQU1DLFFBQVFDLFNBQVNMLGFBQWFHLEdBQUcsQ0FBQyxZQUFZO1FBRXBELElBQUlHLFFBQWE7WUFBRXBDLFFBQVFSLE9BQU9RLE1BQU07UUFBQztRQUN6QyxJQUFJSixnQkFBZ0I7WUFDbEJ3QyxNQUFNeEMsY0FBYyxHQUFHQTtRQUN6QjtRQUVBLE1BQU15QyxjQUFjLE1BQU1oRCwwREFBVUEsQ0FBQ2lELElBQUksQ0FBQ0YsT0FDdkNHLElBQUksQ0FBQztZQUFFWixXQUFXLENBQUM7UUFBRSxHQUNyQk8sS0FBSyxDQUFDQTtRQUVULE9BQU9sRCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQUU0QztRQUFZO0lBQ3pDLEVBQUUsT0FBTzNDLE9BQU87UUFDZGtDLFFBQVFsQyxLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxPQUFPVixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDN0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvY3VzZmxvdy8uL2FwcC9hcGkvcmVhbHRpbWUvcHJlZGljdC9yb3V0ZS50cz83OGQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tICdAL2xpYi9kYidcclxuaW1wb3J0IHsgZ2V0VXNlckZyb21Db29raWUgfSBmcm9tICdAL2xpYi9hdXRoJ1xyXG5pbXBvcnQgeyBtbFByZWRpY3RvciwgUHJlZGljdGlvbklucHV0IH0gZnJvbSAnQC9saWIvbWwvcHJlZGljdG9yJ1xyXG5pbXBvcnQgeyBkYXRhQ29sbGVjdG9yIH0gZnJvbSAnQC9saWIvcmVhbHRpbWUvY29sbGVjdG9yJ1xyXG5pbXBvcnQgeyBQcmVkaWN0aW9uIH0gZnJvbSAnQC9tb2RlbHMvUHJlZGljdGlvbidcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKVxyXG4gICAgY29uc3QgY2xhaW1zID0gZ2V0VXNlckZyb21Db29raWU8eyB1c2VySWQ6IHN0cmluZyB9PigpXHJcbiAgICBpZiAoIWNsYWltcykgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcclxuXHJcbiAgICBjb25zdCB7IHByZWRpY3Rpb25UeXBlLCB0aW1lSG9yaXpvbiA9IDE1IH0gPSBhd2FpdCByZXEuanNvbigpXHJcblxyXG4gICAgaWYgKCFwcmVkaWN0aW9uVHlwZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1ByZWRpY3Rpb24gdHlwZSByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCByZWNlbnQgZGF0YSBmb3IgcHJlZGljdGlvbnNcclxuICAgIGNvbnN0IHJlY2VudEF0dGVudGlvbiA9IGF3YWl0IGRhdGFDb2xsZWN0b3IuZ2V0UmVjZW50RGF0YShjbGFpbXMudXNlcklkLCAnYXR0ZW50aW9uJywgMzApXHJcbiAgICBjb25zdCByZWNlbnRQZXJmb3JtYW5jZSA9IGF3YWl0IGRhdGFDb2xsZWN0b3IuZ2V0UmVjZW50RGF0YShjbGFpbXMudXNlcklkLCAncGVyZm9ybWFuY2UnLCAzMClcclxuXHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICBjb25zdCBpbnB1dDogUHJlZGljdGlvbklucHV0ID0ge1xyXG4gICAgICByZWNlbnRBdHRlbnRpb246IHJlY2VudEF0dGVudGlvbi5tYXAoZCA9PiBkLnZhbHVlKSxcclxuICAgICAgcmVjZW50UGVyZm9ybWFuY2U6IHJlY2VudFBlcmZvcm1hbmNlLm1hcChkID0+IGQudmFsdWUpLFxyXG4gICAgICB0aW1lT2ZEYXk6IG5vdy5nZXRIb3VycygpLFxyXG4gICAgICBkYXlPZldlZWs6IG5vdy5nZXREYXkoKSxcclxuICAgICAgc2Vzc2lvbkR1cmF0aW9uOiAzMCwgLy8gVGhpcyBjb3VsZCBiZSBjYWxjdWxhdGVkIGZyb20gc2Vzc2lvbiBkYXRhXHJcbiAgICAgIGJyZWFrQ291bnQ6IDIgLy8gVGhpcyBjb3VsZCBiZSBjYWxjdWxhdGVkIGZyb20gYWN0aXZpdHkgZGF0YVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBwcmVkaWN0aW9uOiBhbnlcclxuICAgIGxldCBwcmVkaWN0ZWRWYWx1ZTogbnVtYmVyXHJcbiAgICBsZXQgY29uZmlkZW5jZTogbnVtYmVyXHJcbiAgICBsZXQgZXhwbGFuYXRpb246IHN0cmluZ1xyXG5cclxuICAgIHN3aXRjaCAocHJlZGljdGlvblR5cGUpIHtcclxuICAgICAgY2FzZSAnYXR0ZW50aW9uX3RyZW5kJzpcclxuICAgICAgICBwcmVkaWN0aW9uID0gYXdhaXQgbWxQcmVkaWN0b3IucHJlZGljdEF0dGVudGlvblRyZW5kKGlucHV0KVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3BlcmZvcm1hbmNlX2ZvcmVjYXN0JzpcclxuICAgICAgICBwcmVkaWN0aW9uID0gYXdhaXQgbWxQcmVkaWN0b3IucHJlZGljdFBlcmZvcm1hbmNlKGlucHV0KVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ2VuZ2FnZW1lbnRfbGV2ZWwnOlxyXG4gICAgICAgIHByZWRpY3Rpb24gPSBhd2FpdCBtbFByZWRpY3Rvci5wcmVkaWN0RW5nYWdlbWVudChpbnB1dClcclxuICAgICAgICBicmVha1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBwcmVkaWN0aW9uIHR5cGUnIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcmVkaWN0ZWRWYWx1ZSA9IHByZWRpY3Rpb24ucHJlZGljdGVkVmFsdWVcclxuICAgIGNvbmZpZGVuY2UgPSBwcmVkaWN0aW9uLmNvbmZpZGVuY2VcclxuICAgIGV4cGxhbmF0aW9uID0gcHJlZGljdGlvbi5leHBsYW5hdGlvblxyXG5cclxuICAgIC8vIFNhdmUgcHJlZGljdGlvbiB0byBkYXRhYmFzZVxyXG4gICAgY29uc3QgcHJlZGljdGlvblJlY29yZCA9IGF3YWl0IFByZWRpY3Rpb24uY3JlYXRlKHtcclxuICAgICAgdXNlcklkOiBjbGFpbXMudXNlcklkLFxyXG4gICAgICBwcmVkaWN0aW9uVHlwZSxcclxuICAgICAgcHJlZGljdGVkVmFsdWUsXHJcbiAgICAgIGNvbmZpZGVuY2UsXHJcbiAgICAgIHRpbWVIb3Jpem9uLFxyXG4gICAgICBpbnB1dEZlYXR1cmVzOiB7XHJcbiAgICAgICAgcmVjZW50QXR0ZW50aW9uOiBpbnB1dC5yZWNlbnRBdHRlbnRpb24sXHJcbiAgICAgICAgcmVjZW50UGVyZm9ybWFuY2U6IGlucHV0LnJlY2VudFBlcmZvcm1hbmNlLFxyXG4gICAgICAgIHRpbWVPZkRheTogaW5wdXQudGltZU9mRGF5LFxyXG4gICAgICAgIGRheU9mV2VlazogaW5wdXQuZGF5T2ZXZWVrLFxyXG4gICAgICAgIHNlc3Npb25EdXJhdGlvbjogaW5wdXQuc2Vzc2lvbkR1cmF0aW9uLFxyXG4gICAgICAgIGJyZWFrQ291bnQ6IGlucHV0LmJyZWFrQ291bnRcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBwcmVkaWN0aW9uOiB7XHJcbiAgICAgICAgaWQ6IHByZWRpY3Rpb25SZWNvcmQuX2lkLFxyXG4gICAgICAgIHR5cGU6IHByZWRpY3Rpb25UeXBlLFxyXG4gICAgICAgIHByZWRpY3RlZFZhbHVlLFxyXG4gICAgICAgIGNvbmZpZGVuY2UsXHJcbiAgICAgICAgZXhwbGFuYXRpb24sXHJcbiAgICAgICAgdGltZUhvcml6b24sXHJcbiAgICAgICAgY3JlYXRlZEF0OiBwcmVkaWN0aW9uUmVjb3JkLmNyZWF0ZWRBdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtYWtpbmcgcHJlZGljdGlvbjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKVxyXG4gICAgY29uc3QgY2xhaW1zID0gZ2V0VXNlckZyb21Db29raWU8eyB1c2VySWQ6IHN0cmluZyB9PigpXHJcbiAgICBpZiAoIWNsYWltcykgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcclxuXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXEudXJsKVxyXG4gICAgY29uc3QgcHJlZGljdGlvblR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0eXBlJylcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSB8fCAnMTAnKVxyXG5cclxuICAgIGxldCBxdWVyeTogYW55ID0geyB1c2VySWQ6IGNsYWltcy51c2VySWQgfVxyXG4gICAgaWYgKHByZWRpY3Rpb25UeXBlKSB7XHJcbiAgICAgIHF1ZXJ5LnByZWRpY3Rpb25UeXBlID0gcHJlZGljdGlvblR5cGVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmVkaWN0aW9ucyA9IGF3YWl0IFByZWRpY3Rpb24uZmluZChxdWVyeSlcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBwcmVkaWN0aW9ucyB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcmVkaWN0aW9uczonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsImdldFVzZXJGcm9tQ29va2llIiwibWxQcmVkaWN0b3IiLCJkYXRhQ29sbGVjdG9yIiwiUHJlZGljdGlvbiIsIlBPU1QiLCJyZXEiLCJjbGFpbXMiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJwcmVkaWN0aW9uVHlwZSIsInRpbWVIb3Jpem9uIiwicmVjZW50QXR0ZW50aW9uIiwiZ2V0UmVjZW50RGF0YSIsInVzZXJJZCIsInJlY2VudFBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsImlucHV0IiwibWFwIiwiZCIsInZhbHVlIiwidGltZU9mRGF5IiwiZ2V0SG91cnMiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJzZXNzaW9uRHVyYXRpb24iLCJicmVha0NvdW50IiwicHJlZGljdGlvbiIsInByZWRpY3RlZFZhbHVlIiwiY29uZmlkZW5jZSIsImV4cGxhbmF0aW9uIiwicHJlZGljdEF0dGVudGlvblRyZW5kIiwicHJlZGljdFBlcmZvcm1hbmNlIiwicHJlZGljdEVuZ2FnZW1lbnQiLCJwcmVkaWN0aW9uUmVjb3JkIiwiY3JlYXRlIiwiaW5wdXRGZWF0dXJlcyIsImlkIiwiX2lkIiwidHlwZSIsImNyZWF0ZWRBdCIsImNvbnNvbGUiLCJHRVQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJnZXQiLCJsaW1pdCIsInBhcnNlSW50IiwicXVlcnkiLCJwcmVkaWN0aW9ucyIsImZpbmQiLCJzb3J0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/realtime/predict/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAuthCookie: () => (/* binding */ clearAuthCookie),\n/* harmony export */   getUserFromCookie: () => (/* binding */ getUserFromCookie),\n/* harmony export */   setAuthCookie: () => (/* binding */ setAuthCookie),\n/* harmony export */   signJwt: () => (/* binding */ signJwt),\n/* harmony export */   verifyJwt: () => (/* binding */ verifyJwt)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nconst JWT_SECRET = process.env.JWT_SECRET;\nconst COOKIE_NAME = \"focusflow_token\";\nfunction signJwt(payload, expiresIn = \"7d\") {\n    if (!JWT_SECRET) throw new Error(\"JWT_SECRET is not set. Add it to .env.local and restart the dev server.\");\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, {\n        expiresIn\n    });\n}\nfunction verifyJwt(token) {\n    try {\n        if (!JWT_SECRET) return null;\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n    } catch  {\n        return null;\n    }\n}\nfunction setAuthCookie(token) {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set(COOKIE_NAME, token, {\n        httpOnly: true,\n        secure: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        maxAge: 60 * 60 * 24 * 7\n    });\n}\nfunction clearAuthCookie() {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set(COOKIE_NAME, \"\", {\n        httpOnly: true,\n        expires: new Date(0),\n        path: \"/\"\n    });\n}\nfunction getUserFromCookie() {\n    const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    if (!token) return null;\n    return verifyJwt(token);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4QjtBQUNRO0FBRXRDLE1BQU1FLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0YsVUFBVTtBQUN6QyxNQUFNRyxjQUFjO0FBRWIsU0FBU0MsUUFBUUMsT0FBZSxFQUFFQyxZQUFvQixJQUFJO0lBQy9ELElBQUksQ0FBQ04sWUFBWSxNQUFNLElBQUlPLE1BQU07SUFDakMsT0FBT1Qsd0RBQVEsQ0FBQ08sU0FBU0wsWUFBWTtRQUFFTTtJQUFVO0FBQ25EO0FBRU8sU0FBU0csVUFBbUJDLEtBQWE7SUFDOUMsSUFBSTtRQUNGLElBQUksQ0FBQ1YsWUFBWSxPQUFPO1FBQ3hCLE9BQU9GLDBEQUFVLENBQUNZLE9BQU9WO0lBQzNCLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRU8sU0FBU1ksY0FBY0YsS0FBYTtJQUN6Q1gscURBQU9BLEdBQUdjLEdBQUcsQ0FBQ1YsYUFBYU8sT0FBTztRQUNoQ0ksVUFBVTtRQUNWQyxRQUFRO1FBQ1JDLFVBQVU7UUFDVkMsTUFBTTtRQUNOQyxRQUFRLEtBQUssS0FBSyxLQUFLO0lBQ3pCO0FBQ0Y7QUFFTyxTQUFTQztJQUNkcEIscURBQU9BLEdBQUdjLEdBQUcsQ0FBQ1YsYUFBYSxJQUFJO1FBQUVXLFVBQVU7UUFBTU0sU0FBUyxJQUFJQyxLQUFLO1FBQUlKLE1BQU07SUFBSTtBQUNuRjtBQUVPLFNBQVNLO0lBQ2QsTUFBTVosUUFBUVgscURBQU9BLEdBQUd3QixHQUFHLENBQUNwQixjQUFjcUI7SUFDMUMsSUFBSSxDQUFDZCxPQUFPLE9BQU87SUFDbkIsT0FBT0QsVUFBYUM7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2N1c2Zsb3cvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkXG5jb25zdCBDT09LSUVfTkFNRSA9ICdmb2N1c2Zsb3dfdG9rZW4nXG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduSnd0KHBheWxvYWQ6IG9iamVjdCwgZXhwaXJlc0luOiBzdHJpbmcgPSAnN2QnKSB7XG4gIGlmICghSldUX1NFQ1JFVCkgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIGlzIG5vdCBzZXQuIEFkZCBpdCB0byAuZW52LmxvY2FsIGFuZCByZXN0YXJ0IHRoZSBkZXYgc2VydmVyLicpXG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbiB9IGFzIGFueSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeUp3dDxUID0gYW55Pih0b2tlbjogc3RyaW5nKTogVCB8IG51bGwge1xuICB0cnkge1xuICAgIGlmICghSldUX1NFQ1JFVCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgVFxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdXRoQ29va2llKHRva2VuOiBzdHJpbmcpIHtcbiAgY29va2llcygpLnNldChDT09LSUVfTkFNRSwgdG9rZW4sIHtcbiAgICBodHRwT25seTogdHJ1ZSxcbiAgICBzZWN1cmU6IHRydWUsXG4gICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgIHBhdGg6ICcvJyxcbiAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcsXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckF1dGhDb29raWUoKSB7XG4gIGNvb2tpZXMoKS5zZXQoQ09PS0lFX05BTUUsICcnLCB7IGh0dHBPbmx5OiB0cnVlLCBleHBpcmVzOiBuZXcgRGF0ZSgwKSwgcGF0aDogJy8nIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRnJvbUNvb2tpZTxUID0gYW55PigpOiBUIHwgbnVsbCB7XG4gIGNvbnN0IHRva2VuID0gY29va2llcygpLmdldChDT09LSUVfTkFNRSk/LnZhbHVlXG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsXG4gIHJldHVybiB2ZXJpZnlKd3Q8VD4odG9rZW4pXG59XG5cbiJdLCJuYW1lcyI6WyJqd3QiLCJjb29raWVzIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJDT09LSUVfTkFNRSIsInNpZ25Kd3QiLCJwYXlsb2FkIiwiZXhwaXJlc0luIiwiRXJyb3IiLCJzaWduIiwidmVyaWZ5Snd0IiwidG9rZW4iLCJ2ZXJpZnkiLCJzZXRBdXRoQ29va2llIiwic2V0IiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsInBhdGgiLCJtYXhBZ2UiLCJjbGVhckF1dGhDb29raWUiLCJleHBpcmVzIiwiRGF0ZSIsImdldFVzZXJGcm9tQ29va2llIiwiZ2V0IiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectToDatabase() {\n    // For development/testing purposes, if MONGODB_URI is not set or invalid,\n    // we'll use a mock connection\n    if (!MONGODB_URI) {\n        console.warn(\"⚠️ MONGODB_URI is not set. Using mock database connection.\");\n        return null;\n    }\n    try {\n        if (cached.conn) return cached.conn;\n        if (!cached.promise) {\n            cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, {\n                dbName: process.env.MONGODB_DB || \"focusflow\"\n            });\n        }\n        cached.conn = await cached.promise;\n        return cached.conn;\n    } catch (error) {\n        console.warn(\"⚠️ MongoDB connection failed. Using mock database connection.\");\n        console.error(\"MongoDB Error:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUUzQyxJQUFJRyxTQUFTLE9BQWdCSixRQUFRO0FBS3JDLElBQUksQ0FBQ0ksUUFBUTtJQUNYQSxTQUFTLE9BQWdCSixRQUFRLEdBQUc7UUFBRU0sTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDbEU7QUFFTyxlQUFlQztJQUNwQiwwRUFBMEU7SUFDMUUsOEJBQThCO0lBQzlCLElBQUksQ0FBQ1AsYUFBYTtRQUNoQlEsUUFBUUMsSUFBSSxDQUFDO1FBQ2IsT0FBTztJQUNUO0lBRUEsSUFBSTtRQUNGLElBQUlOLE9BQU9FLElBQUksRUFBRSxPQUFPRixPQUFPRSxJQUFJO1FBQ25DLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1lBQ25CSCxPQUFPRyxPQUFPLEdBQUdQLHVEQUFnQixDQUFDQyxhQUFhO2dCQUM3Q1csUUFBUVYsUUFBUUMsR0FBRyxDQUFDVSxVQUFVLElBQUk7WUFDcEM7UUFDRjtRQUNBVCxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztRQUNsQyxPQUFPSCxPQUFPRSxJQUFJO0lBQ3BCLEVBQUUsT0FBT1EsT0FBTztRQUNkTCxRQUFRQyxJQUFJLENBQ1Y7UUFFRkQsUUFBUUssS0FBSyxDQUFDLGtCQUFrQkE7UUFDaEMsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2N1c2Zsb3cvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcbmxldCBjYWNoZWQgPSAoZ2xvYmFsIGFzIGFueSkubW9uZ29vc2UgYXMge1xyXG4gIGNvbm46IHR5cGVvZiBtb25nb29zZSB8IG51bGw7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcclxufTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gKGdsb2JhbCBhcyBhbnkpLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICAvLyBGb3IgZGV2ZWxvcG1lbnQvdGVzdGluZyBwdXJwb3NlcywgaWYgTU9OR09EQl9VUkkgaXMgbm90IHNldCBvciBpbnZhbGlkLFxyXG4gIC8vIHdlJ2xsIHVzZSBhIG1vY2sgY29ubmVjdGlvblxyXG4gIGlmICghTU9OR09EQl9VUkkpIHtcclxuICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBNT05HT0RCX1VSSSBpcyBub3Qgc2V0LiBVc2luZyBtb2NrIGRhdGFiYXNlIGNvbm5lY3Rpb24uXCIpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgaWYgKGNhY2hlZC5jb25uKSByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwge1xyXG4gICAgICAgIGRiTmFtZTogcHJvY2Vzcy5lbnYuTU9OR09EQl9EQiB8fCBcImZvY3VzZmxvd1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgXCLimqDvuI8gTW9uZ29EQiBjb25uZWN0aW9uIGZhaWxlZC4gVXNpbmcgbW9jayBkYXRhYmFzZSBjb25uZWN0aW9uLlwiXHJcbiAgICApO1xyXG4gICAgY29uc29sZS5lcnJvcihcIk1vbmdvREIgRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiY29uc29sZSIsIndhcm4iLCJjb25uZWN0IiwiZGJOYW1lIiwiTU9OR09EQl9EQiIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ml/predictor.ts":
/*!*****************************!*\
  !*** ./lib/ml/predictor.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mlPredictor: () => (/* binding */ mlPredictor)\n/* harmony export */ });\n/* harmony import */ var _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs */ \"(rsc)/./node_modules/@tensorflow/tfjs/dist/index.js\");\n\nclass MLPredictor {\n    async initialize() {\n        if (this.isInitialized) return;\n        try {\n            // Create simple neural networks for different prediction tasks\n            this.attentionModel = this.createAttentionModel();\n            this.performanceModel = this.createPerformanceModel();\n            this.engagementModel = this.createEngagementModel();\n            this.isInitialized = true;\n            console.log(\"ML Predictor initialized successfully\");\n        } catch (error) {\n            console.error(\"Failed to initialize ML Predictor:\", error);\n        }\n    }\n    createAttentionModel() {\n        const model = _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.sequential({\n            layers: [\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    inputShape: [\n                        8\n                    ],\n                    units: 16,\n                    activation: \"relu\",\n                    kernelRegularizer: _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.regularizers.l2({\n                        l2: 0.01\n                    })\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dropout({\n                    rate: 0.2\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    units: 8,\n                    activation: \"relu\"\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    units: 1,\n                    activation: \"sigmoid\"\n                })\n            ]\n        });\n        model.compile({\n            optimizer: _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.train.adam(0.001),\n            loss: \"meanSquaredError\",\n            metrics: [\n                \"mae\"\n            ]\n        });\n        return model;\n    }\n    createPerformanceModel() {\n        const model = _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.sequential({\n            layers: [\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    inputShape: [\n                        8\n                    ],\n                    units: 20,\n                    activation: \"relu\",\n                    kernelRegularizer: _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.regularizers.l2({\n                        l2: 0.01\n                    })\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dropout({\n                    rate: 0.3\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    units: 10,\n                    activation: \"relu\"\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    units: 1,\n                    activation: \"sigmoid\"\n                })\n            ]\n        });\n        model.compile({\n            optimizer: _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.train.adam(0.001),\n            loss: \"meanSquaredError\",\n            metrics: [\n                \"mae\"\n            ]\n        });\n        return model;\n    }\n    createEngagementModel() {\n        const model = _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.sequential({\n            layers: [\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    inputShape: [\n                        8\n                    ],\n                    units: 12,\n                    activation: \"relu\",\n                    kernelRegularizer: _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.regularizers.l2({\n                        l2: 0.01\n                    })\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dropout({\n                    rate: 0.25\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    units: 6,\n                    activation: \"relu\"\n                }),\n                _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.layers.dense({\n                    units: 1,\n                    activation: \"sigmoid\"\n                })\n            ]\n        });\n        model.compile({\n            optimizer: _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.train.adam(0.001),\n            loss: \"meanSquaredError\",\n            metrics: [\n                \"mae\"\n            ]\n        });\n        return model;\n    }\n    prepareFeatures(input) {\n        // Normalize and prepare features\n        const features = [\n            // Recent attention (last 3 values, padded with 0.5 if less than 3)\n            ...this.padArray(input.recentAttention.slice(-3), 3, 0.5),\n            // Recent performance (last 3 values, padded with 0.5 if less than 3)\n            ...this.padArray(input.recentPerformance.slice(-3), 3, 0.5),\n            // Time of day (normalized to 0-1)\n            input.timeOfDay / 24,\n            // Session duration (normalized, assuming max 120 minutes)\n            Math.min(input.sessionDuration / 120, 1)\n        ];\n        return _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_0__.tensor2d([\n            features\n        ]);\n    }\n    padArray(arr, targetLength, padValue) {\n        while(arr.length < targetLength){\n            arr.unshift(padValue);\n        }\n        return arr.slice(0, targetLength);\n    }\n    async predictAttentionTrend(input) {\n        if (!this.attentionModel) {\n            await this.initialize();\n        }\n        const features = this.prepareFeatures(input);\n        const prediction = this.attentionModel.predict(features);\n        const predictedValue = await prediction.data();\n        const confidence = this.calculateConfidence(input);\n        features.dispose();\n        prediction.dispose();\n        return {\n            predictedValue: predictedValue[0],\n            confidence,\n            explanation: this.generateAttentionExplanation(predictedValue[0], input)\n        };\n    }\n    async predictPerformance(input) {\n        if (!this.performanceModel) {\n            await this.initialize();\n        }\n        const features = this.prepareFeatures(input);\n        const prediction = this.performanceModel.predict(features);\n        const predictedValue = await prediction.data();\n        const confidence = this.calculateConfidence(input);\n        features.dispose();\n        prediction.dispose();\n        return {\n            predictedValue: predictedValue[0],\n            confidence,\n            explanation: this.generatePerformanceExplanation(predictedValue[0], input)\n        };\n    }\n    async predictEngagement(input) {\n        if (!this.engagementModel) {\n            await this.initialize();\n        }\n        const features = this.prepareFeatures(input);\n        const prediction = this.engagementModel.predict(features);\n        const predictedValue = await prediction.data();\n        const confidence = this.calculateConfidence(input);\n        features.dispose();\n        prediction.dispose();\n        return {\n            predictedValue: predictedValue[0],\n            confidence,\n            explanation: this.generateEngagementExplanation(predictedValue[0], input)\n        };\n    }\n    calculateConfidence(input) {\n        // Calculate confidence based on data quality and quantity\n        let confidence = 0.5; // Base confidence\n        // More data points = higher confidence\n        if (input.recentAttention.length >= 5) confidence += 0.2;\n        if (input.recentPerformance.length >= 5) confidence += 0.2;\n        // Recent data = higher confidence\n        const now = new Date();\n        const timeOfDay = now.getHours();\n        if (timeOfDay >= 8 && timeOfDay <= 18) confidence += 0.1;\n        // ADHD-specific confidence adjustments\n        if (input.adhdScore && input.adhdScore > 70) {\n            // Higher confidence for ADHD students due to more predictable patterns\n            confidence += 0.1;\n        }\n        return Math.min(confidence, 0.95);\n    }\n    generateAttentionExplanation(value, input) {\n        const isADHD = input.adhdScore && input.adhdScore > 70;\n        if (value > 0.7) {\n            return isADHD ? \"\\uD83C\\uDFAF Amazing focus! You're in the zone! Keep riding this wave of concentration!\" : \"Great focus! Your attention is high and likely to remain stable.\";\n        } else if (value > 0.5) {\n            return isADHD ? \"\\uD83D\\uDC4D Good focus! Try a quick movement break or switch to a more interactive activity soon!\" : \"Good attention level. Consider taking a short break soon to maintain focus.\";\n        } else if (value > 0.3) {\n            return isADHD ? \"⚠️ Focus is dropping! Time for a 5-minute movement break or try a different learning style!\" : \"Attention is declining. A 5-minute break or activity change is recommended.\";\n        } else {\n            return isADHD ? \"\\uD83D\\uDD04 Low focus detected! Let's switch to something more engaging - try a game or hands-on activity!\" : \"Low attention detected. Consider a longer break or switching to a different type of activity.\";\n        }\n    }\n    generatePerformanceExplanation(value, input) {\n        const isADHD = input.adhdScore && input.adhdScore > 70;\n        if (value > 0.7) {\n            return isADHD ? \"⭐ You're crushing it! Your brain is firing on all cylinders! Keep up the great work!\" : \"Excellent performance expected! You're in a productive zone.\";\n        } else if (value > 0.5) {\n            return isADHD ? \"\\uD83D\\uDE80 Good momentum! You're doing well! Maybe try breaking tasks into smaller chunks?\" : \"Good performance level. You're likely to complete tasks effectively.\";\n        } else if (value > 0.3) {\n            return isADHD ? \"\\uD83D\\uDCAA Performance is okay, but let's boost it! Try a different learning style or take a movement break!\" : \"Performance may be affected. Consider adjusting difficulty or taking a break.\";\n        } else {\n            return isADHD ? \"\\uD83C\\uDFAE Time to switch it up! Try a game-based approach or hands-on learning!\" : \"Performance may be low. Try a different approach or take a longer break.\";\n        }\n    }\n    generateEngagementExplanation(value, input) {\n        const isADHD = input.adhdScore && input.adhdScore > 70;\n        if (value > 0.7) {\n            return isADHD ? \"\\uD83D\\uDD25 You're totally engaged! This is your sweet spot! Keep going with this type of activity!\" : \"High engagement! You're likely to stay motivated and interested.\";\n        } else if (value > 0.5) {\n            return isADHD ? \"\\uD83D\\uDE0A Good engagement! You're into it! Maybe add some music or movement to keep it fresh?\" : \"Good engagement level. The current activity seems to be working well.\";\n        } else if (value > 0.3) {\n            return isADHD ? \"\\uD83E\\uDD14 Engagement is okay, but let's spice it up! Try adding colors, sounds, or interactive elements!\" : \"Engagement is moderate. Consider adding interactive elements or changing the activity.\";\n        } else {\n            return isADHD ? \"\\uD83C\\uDFAF Low engagement! Time for something more exciting! Try games, videos, or hands-on activities!\" : \"Low engagement detected. Try a different type of content or activity.\";\n        }\n    }\n    async trainModel(modelType, trainingData) {\n        // This would be used to retrain models with new data\n        // For now, we'll use pre-trained weights\n        console.log(`Training ${modelType} model with ${trainingData.length} samples`);\n    }\n    dispose() {\n        if (this.attentionModel) this.attentionModel.dispose();\n        if (this.performanceModel) this.performanceModel.dispose();\n        if (this.engagementModel) this.engagementModel.dispose();\n    }\n    constructor(){\n        this.attentionModel = null;\n        this.performanceModel = null;\n        this.engagementModel = null;\n        this.isInitialized = false;\n    }\n}\nconst mlPredictor = new MLPredictor();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDRjtJQUVRTiw4QkFDTkssS0FBYSxFQUNibEMsS0FBc0IsRUFDZDtRQUNSLE1BQU1tQyxTQUFTbkMsTUFBTWlDLFNBQVMsSUFBSWpDLE1BQU1pQyxTQUFTLEdBQUc7UUFFcEQsSUFBSUMsUUFBUSxLQUFLO1lBQ2YsT0FBT0MsU0FDSCx5R0FDQTtRQUNOLE9BQU8sSUFBSUQsUUFBUSxLQUFLO1lBQ3RCLE9BQU9DLFNBQ0gscUdBQ0E7UUFDTixPQUFPLElBQUlELFFBQVEsS0FBSztZQUN0QixPQUFPQyxTQUNILGdIQUNBO1FBQ04sT0FBTztZQUNMLE9BQU9BLFNBQ0gsOEdBQ0E7UUFDTjtJQUNGO0lBRUEsTUFBTUMsV0FDSkMsU0FBcUQsRUFDckRDLFlBQW1CLEVBQ25CO1FBQ0EscURBQXFEO1FBQ3JELHlDQUF5QztRQUN6QzVELFFBQVFDLEdBQUcsQ0FDVCxDQUFDLFNBQVMsRUFBRTBELFVBQVUsWUFBWSxFQUFFQyxhQUFheEIsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUVyRTtJQUVBUyxVQUFVO1FBQ1IsSUFBSSxJQUFJLENBQUNuRCxjQUFjLEVBQUUsSUFBSSxDQUFDQSxjQUFjLENBQUNtRCxPQUFPO1FBQ3BELElBQUksSUFBSSxDQUFDakQsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDQSxnQkFBZ0IsQ0FBQ2lELE9BQU87UUFDeEQsSUFBSSxJQUFJLENBQUMvQyxlQUFlLEVBQUUsSUFBSSxDQUFDQSxlQUFlLENBQUMrQyxPQUFPO0lBQ3hEOzthQTNUUW5ELGlCQUF3QzthQUN4Q0UsbUJBQTBDO2FBQzFDRSxrQkFBeUM7YUFDekNMLGdCQUFnQjs7QUF5VDFCO0FBRU8sTUFBTW9FLGNBQWMsSUFBSXRFLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2N1c2Zsb3cvLi9saWIvbWwvcHJlZGljdG9yLnRzPzk0MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdGYgZnJvbSBcIkB0ZW5zb3JmbG93L3RmanNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJlZGljdGlvbklucHV0IHtcclxuICByZWNlbnRBdHRlbnRpb246IG51bWJlcltdO1xyXG4gIHJlY2VudFBlcmZvcm1hbmNlOiBudW1iZXJbXTtcclxuICB0aW1lT2ZEYXk6IG51bWJlcjsgLy8gMC0yNFxyXG4gIGRheU9mV2VlazogbnVtYmVyOyAvLyAwLTZcclxuICBzZXNzaW9uRHVyYXRpb246IG51bWJlcjsgLy8gbWludXRlc1xyXG4gIGJyZWFrQ291bnQ6IG51bWJlcjtcclxuICB1c2VyQWdlPzogbnVtYmVyO1xyXG4gIGFkaGRTY29yZT86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQcmVkaWN0aW9uUmVzdWx0IHtcclxuICBwcmVkaWN0ZWRWYWx1ZTogbnVtYmVyO1xyXG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcclxuICBleHBsYW5hdGlvbjogc3RyaW5nO1xyXG59XHJcblxyXG5jbGFzcyBNTFByZWRpY3RvciB7XHJcbiAgcHJpdmF0ZSBhdHRlbnRpb25Nb2RlbDogdGYuTGF5ZXJzTW9kZWwgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIHBlcmZvcm1hbmNlTW9kZWw6IHRmLkxheWVyc01vZGVsIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBlbmdhZ2VtZW50TW9kZWw6IHRmLkxheWVyc01vZGVsIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XHJcbiAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ3JlYXRlIHNpbXBsZSBuZXVyYWwgbmV0d29ya3MgZm9yIGRpZmZlcmVudCBwcmVkaWN0aW9uIHRhc2tzXHJcbiAgICAgIHRoaXMuYXR0ZW50aW9uTW9kZWwgPSB0aGlzLmNyZWF0ZUF0dGVudGlvbk1vZGVsKCk7XHJcbiAgICAgIHRoaXMucGVyZm9ybWFuY2VNb2RlbCA9IHRoaXMuY3JlYXRlUGVyZm9ybWFuY2VNb2RlbCgpO1xyXG4gICAgICB0aGlzLmVuZ2FnZW1lbnRNb2RlbCA9IHRoaXMuY3JlYXRlRW5nYWdlbWVudE1vZGVsKCk7XHJcblxyXG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk1MIFByZWRpY3RvciBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgTUwgUHJlZGljdG9yOlwiLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUF0dGVudGlvbk1vZGVsKCk6IHRmLkxheWVyc01vZGVsIHtcclxuICAgIGNvbnN0IG1vZGVsID0gdGYuc2VxdWVudGlhbCh7XHJcbiAgICAgIGxheWVyczogW1xyXG4gICAgICAgIHRmLmxheWVycy5kZW5zZSh7XHJcbiAgICAgICAgICBpbnB1dFNoYXBlOiBbOF0sIC8vIDggaW5wdXQgZmVhdHVyZXNcclxuICAgICAgICAgIHVuaXRzOiAxNixcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwicmVsdVwiLFxyXG4gICAgICAgICAga2VybmVsUmVndWxhcml6ZXI6IHRmLnJlZ3VsYXJpemVycy5sMih7IGwyOiAwLjAxIH0pLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHRmLmxheWVycy5kcm9wb3V0KHsgcmF0ZTogMC4yIH0pLFxyXG4gICAgICAgIHRmLmxheWVycy5kZW5zZSh7XHJcbiAgICAgICAgICB1bml0czogOCxcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwicmVsdVwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHRmLmxheWVycy5kZW5zZSh7XHJcbiAgICAgICAgICB1bml0czogMSxcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwic2lnbW9pZFwiLCAvLyBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgICAgfSksXHJcbiAgICAgIF0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBtb2RlbC5jb21waWxlKHtcclxuICAgICAgb3B0aW1pemVyOiB0Zi50cmFpbi5hZGFtKDAuMDAxKSxcclxuICAgICAgbG9zczogXCJtZWFuU3F1YXJlZEVycm9yXCIsXHJcbiAgICAgIG1ldHJpY3M6IFtcIm1hZVwiXSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBtb2RlbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlUGVyZm9ybWFuY2VNb2RlbCgpOiB0Zi5MYXllcnNNb2RlbCB7XHJcbiAgICBjb25zdCBtb2RlbCA9IHRmLnNlcXVlbnRpYWwoe1xyXG4gICAgICBsYXllcnM6IFtcclxuICAgICAgICB0Zi5sYXllcnMuZGVuc2Uoe1xyXG4gICAgICAgICAgaW5wdXRTaGFwZTogWzhdLFxyXG4gICAgICAgICAgdW5pdHM6IDIwLFxyXG4gICAgICAgICAgYWN0aXZhdGlvbjogXCJyZWx1XCIsXHJcbiAgICAgICAgICBrZXJuZWxSZWd1bGFyaXplcjogdGYucmVndWxhcml6ZXJzLmwyKHsgbDI6IDAuMDEgfSksXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdGYubGF5ZXJzLmRyb3BvdXQoeyByYXRlOiAwLjMgfSksXHJcbiAgICAgICAgdGYubGF5ZXJzLmRlbnNlKHtcclxuICAgICAgICAgIHVuaXRzOiAxMCxcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwicmVsdVwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHRmLmxheWVycy5kZW5zZSh7XHJcbiAgICAgICAgICB1bml0czogMSxcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwic2lnbW9pZFwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcblxyXG4gICAgbW9kZWwuY29tcGlsZSh7XHJcbiAgICAgIG9wdGltaXplcjogdGYudHJhaW4uYWRhbSgwLjAwMSksXHJcbiAgICAgIGxvc3M6IFwibWVhblNxdWFyZWRFcnJvclwiLFxyXG4gICAgICBtZXRyaWNzOiBbXCJtYWVcIl0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbW9kZWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUVuZ2FnZW1lbnRNb2RlbCgpOiB0Zi5MYXllcnNNb2RlbCB7XHJcbiAgICBjb25zdCBtb2RlbCA9IHRmLnNlcXVlbnRpYWwoe1xyXG4gICAgICBsYXllcnM6IFtcclxuICAgICAgICB0Zi5sYXllcnMuZGVuc2Uoe1xyXG4gICAgICAgICAgaW5wdXRTaGFwZTogWzhdLFxyXG4gICAgICAgICAgdW5pdHM6IDEyLFxyXG4gICAgICAgICAgYWN0aXZhdGlvbjogXCJyZWx1XCIsXHJcbiAgICAgICAgICBrZXJuZWxSZWd1bGFyaXplcjogdGYucmVndWxhcml6ZXJzLmwyKHsgbDI6IDAuMDEgfSksXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdGYubGF5ZXJzLmRyb3BvdXQoeyByYXRlOiAwLjI1IH0pLFxyXG4gICAgICAgIHRmLmxheWVycy5kZW5zZSh7XHJcbiAgICAgICAgICB1bml0czogNixcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwicmVsdVwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHRmLmxheWVycy5kZW5zZSh7XHJcbiAgICAgICAgICB1bml0czogMSxcclxuICAgICAgICAgIGFjdGl2YXRpb246IFwic2lnbW9pZFwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcblxyXG4gICAgbW9kZWwuY29tcGlsZSh7XHJcbiAgICAgIG9wdGltaXplcjogdGYudHJhaW4uYWRhbSgwLjAwMSksXHJcbiAgICAgIGxvc3M6IFwibWVhblNxdWFyZWRFcnJvclwiLFxyXG4gICAgICBtZXRyaWNzOiBbXCJtYWVcIl0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbW9kZWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByZXBhcmVGZWF0dXJlcyhpbnB1dDogUHJlZGljdGlvbklucHV0KTogdGYuVGVuc29yMkQge1xyXG4gICAgLy8gTm9ybWFsaXplIGFuZCBwcmVwYXJlIGZlYXR1cmVzXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtcclxuICAgICAgLy8gUmVjZW50IGF0dGVudGlvbiAobGFzdCAzIHZhbHVlcywgcGFkZGVkIHdpdGggMC41IGlmIGxlc3MgdGhhbiAzKVxyXG4gICAgICAuLi50aGlzLnBhZEFycmF5KGlucHV0LnJlY2VudEF0dGVudGlvbi5zbGljZSgtMyksIDMsIDAuNSksXHJcbiAgICAgIC8vIFJlY2VudCBwZXJmb3JtYW5jZSAobGFzdCAzIHZhbHVlcywgcGFkZGVkIHdpdGggMC41IGlmIGxlc3MgdGhhbiAzKVxyXG4gICAgICAuLi50aGlzLnBhZEFycmF5KGlucHV0LnJlY2VudFBlcmZvcm1hbmNlLnNsaWNlKC0zKSwgMywgMC41KSxcclxuICAgICAgLy8gVGltZSBvZiBkYXkgKG5vcm1hbGl6ZWQgdG8gMC0xKVxyXG4gICAgICBpbnB1dC50aW1lT2ZEYXkgLyAyNCxcclxuICAgICAgLy8gU2Vzc2lvbiBkdXJhdGlvbiAobm9ybWFsaXplZCwgYXNzdW1pbmcgbWF4IDEyMCBtaW51dGVzKVxyXG4gICAgICBNYXRoLm1pbihpbnB1dC5zZXNzaW9uRHVyYXRpb24gLyAxMjAsIDEpLFxyXG4gICAgXTtcclxuXHJcbiAgICByZXR1cm4gdGYudGVuc29yMmQoW2ZlYXR1cmVzXSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhZEFycmF5KFxyXG4gICAgYXJyOiBudW1iZXJbXSxcclxuICAgIHRhcmdldExlbmd0aDogbnVtYmVyLFxyXG4gICAgcGFkVmFsdWU6IG51bWJlclxyXG4gICk6IG51bWJlcltdIHtcclxuICAgIHdoaWxlIChhcnIubGVuZ3RoIDwgdGFyZ2V0TGVuZ3RoKSB7XHJcbiAgICAgIGFyci51bnNoaWZ0KHBhZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcnIuc2xpY2UoMCwgdGFyZ2V0TGVuZ3RoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHByZWRpY3RBdHRlbnRpb25UcmVuZChcclxuICAgIGlucHV0OiBQcmVkaWN0aW9uSW5wdXRcclxuICApOiBQcm9taXNlPFByZWRpY3Rpb25SZXN1bHQ+IHtcclxuICAgIGlmICghdGhpcy5hdHRlbnRpb25Nb2RlbCkge1xyXG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZUZlYXR1cmVzKGlucHV0KTtcclxuICAgIGNvbnN0IHByZWRpY3Rpb24gPSB0aGlzLmF0dGVudGlvbk1vZGVsIS5wcmVkaWN0KGZlYXR1cmVzKSBhcyB0Zi5UZW5zb3I7XHJcbiAgICBjb25zdCBwcmVkaWN0ZWRWYWx1ZSA9IGF3YWl0IHByZWRpY3Rpb24uZGF0YSgpO1xyXG4gICAgY29uc3QgY29uZmlkZW5jZSA9IHRoaXMuY2FsY3VsYXRlQ29uZmlkZW5jZShpbnB1dCk7XHJcblxyXG4gICAgZmVhdHVyZXMuZGlzcG9zZSgpO1xyXG4gICAgcHJlZGljdGlvbi5kaXNwb3NlKCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJlZGljdGVkVmFsdWU6IHByZWRpY3RlZFZhbHVlWzBdLFxyXG4gICAgICBjb25maWRlbmNlLFxyXG4gICAgICBleHBsYW5hdGlvbjogdGhpcy5nZW5lcmF0ZUF0dGVudGlvbkV4cGxhbmF0aW9uKHByZWRpY3RlZFZhbHVlWzBdLCBpbnB1dCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHJlZGljdFBlcmZvcm1hbmNlKGlucHV0OiBQcmVkaWN0aW9uSW5wdXQpOiBQcm9taXNlPFByZWRpY3Rpb25SZXN1bHQ+IHtcclxuICAgIGlmICghdGhpcy5wZXJmb3JtYW5jZU1vZGVsKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5wcmVwYXJlRmVhdHVyZXMoaW5wdXQpO1xyXG4gICAgY29uc3QgcHJlZGljdGlvbiA9IHRoaXMucGVyZm9ybWFuY2VNb2RlbCEucHJlZGljdChmZWF0dXJlcykgYXMgdGYuVGVuc29yO1xyXG4gICAgY29uc3QgcHJlZGljdGVkVmFsdWUgPSBhd2FpdCBwcmVkaWN0aW9uLmRhdGEoKTtcclxuICAgIGNvbnN0IGNvbmZpZGVuY2UgPSB0aGlzLmNhbGN1bGF0ZUNvbmZpZGVuY2UoaW5wdXQpO1xyXG5cclxuICAgIGZlYXR1cmVzLmRpc3Bvc2UoKTtcclxuICAgIHByZWRpY3Rpb24uZGlzcG9zZSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHByZWRpY3RlZFZhbHVlOiBwcmVkaWN0ZWRWYWx1ZVswXSxcclxuICAgICAgY29uZmlkZW5jZSxcclxuICAgICAgZXhwbGFuYXRpb246IHRoaXMuZ2VuZXJhdGVQZXJmb3JtYW5jZUV4cGxhbmF0aW9uKFxyXG4gICAgICAgIHByZWRpY3RlZFZhbHVlWzBdLFxyXG4gICAgICAgIGlucHV0XHJcbiAgICAgICksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHJlZGljdEVuZ2FnZW1lbnQoaW5wdXQ6IFByZWRpY3Rpb25JbnB1dCk6IFByb21pc2U8UHJlZGljdGlvblJlc3VsdD4ge1xyXG4gICAgaWYgKCF0aGlzLmVuZ2FnZW1lbnRNb2RlbCkge1xyXG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZUZlYXR1cmVzKGlucHV0KTtcclxuICAgIGNvbnN0IHByZWRpY3Rpb24gPSB0aGlzLmVuZ2FnZW1lbnRNb2RlbCEucHJlZGljdChmZWF0dXJlcykgYXMgdGYuVGVuc29yO1xyXG4gICAgY29uc3QgcHJlZGljdGVkVmFsdWUgPSBhd2FpdCBwcmVkaWN0aW9uLmRhdGEoKTtcclxuICAgIGNvbnN0IGNvbmZpZGVuY2UgPSB0aGlzLmNhbGN1bGF0ZUNvbmZpZGVuY2UoaW5wdXQpO1xyXG5cclxuICAgIGZlYXR1cmVzLmRpc3Bvc2UoKTtcclxuICAgIHByZWRpY3Rpb24uZGlzcG9zZSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHByZWRpY3RlZFZhbHVlOiBwcmVkaWN0ZWRWYWx1ZVswXSxcclxuICAgICAgY29uZmlkZW5jZSxcclxuICAgICAgZXhwbGFuYXRpb246IHRoaXMuZ2VuZXJhdGVFbmdhZ2VtZW50RXhwbGFuYXRpb24ocHJlZGljdGVkVmFsdWVbMF0sIGlucHV0KSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZUNvbmZpZGVuY2UoaW5wdXQ6IFByZWRpY3Rpb25JbnB1dCk6IG51bWJlciB7XHJcbiAgICAvLyBDYWxjdWxhdGUgY29uZmlkZW5jZSBiYXNlZCBvbiBkYXRhIHF1YWxpdHkgYW5kIHF1YW50aXR5XHJcbiAgICBsZXQgY29uZmlkZW5jZSA9IDAuNTsgLy8gQmFzZSBjb25maWRlbmNlXHJcblxyXG4gICAgLy8gTW9yZSBkYXRhIHBvaW50cyA9IGhpZ2hlciBjb25maWRlbmNlXHJcbiAgICBpZiAoaW5wdXQucmVjZW50QXR0ZW50aW9uLmxlbmd0aCA+PSA1KSBjb25maWRlbmNlICs9IDAuMjtcclxuICAgIGlmIChpbnB1dC5yZWNlbnRQZXJmb3JtYW5jZS5sZW5ndGggPj0gNSkgY29uZmlkZW5jZSArPSAwLjI7XHJcblxyXG4gICAgLy8gUmVjZW50IGRhdGEgPSBoaWdoZXIgY29uZmlkZW5jZVxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IHRpbWVPZkRheSA9IG5vdy5nZXRIb3VycygpO1xyXG4gICAgaWYgKHRpbWVPZkRheSA+PSA4ICYmIHRpbWVPZkRheSA8PSAxOCkgY29uZmlkZW5jZSArPSAwLjE7XHJcblxyXG4gICAgLy8gQURIRC1zcGVjaWZpYyBjb25maWRlbmNlIGFkanVzdG1lbnRzXHJcbiAgICBpZiAoaW5wdXQuYWRoZFNjb3JlICYmIGlucHV0LmFkaGRTY29yZSA+IDcwKSB7XHJcbiAgICAgIC8vIEhpZ2hlciBjb25maWRlbmNlIGZvciBBREhEIHN0dWRlbnRzIGR1ZSB0byBtb3JlIHByZWRpY3RhYmxlIHBhdHRlcm5zXHJcbiAgICAgIGNvbmZpZGVuY2UgKz0gMC4xO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBNYXRoLm1pbihjb25maWRlbmNlLCAwLjk1KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVBdHRlbnRpb25FeHBsYW5hdGlvbihcclxuICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICBpbnB1dDogUHJlZGljdGlvbklucHV0XHJcbiAgKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGlzQURIRCA9IGlucHV0LmFkaGRTY29yZSAmJiBpbnB1dC5hZGhkU2NvcmUgPiA3MDtcclxuXHJcbiAgICBpZiAodmFsdWUgPiAwLjcpIHtcclxuICAgICAgcmV0dXJuIGlzQURIRFxyXG4gICAgICAgID8gXCLwn46vIEFtYXppbmcgZm9jdXMhIFlvdSdyZSBpbiB0aGUgem9uZSEgS2VlcCByaWRpbmcgdGhpcyB3YXZlIG9mIGNvbmNlbnRyYXRpb24hXCJcclxuICAgICAgICA6IFwiR3JlYXQgZm9jdXMhIFlvdXIgYXR0ZW50aW9uIGlzIGhpZ2ggYW5kIGxpa2VseSB0byByZW1haW4gc3RhYmxlLlwiO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IDAuNSkge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIvCfkY0gR29vZCBmb2N1cyEgVHJ5IGEgcXVpY2sgbW92ZW1lbnQgYnJlYWsgb3Igc3dpdGNoIHRvIGEgbW9yZSBpbnRlcmFjdGl2ZSBhY3Rpdml0eSBzb29uIVwiXHJcbiAgICAgICAgOiBcIkdvb2QgYXR0ZW50aW9uIGxldmVsLiBDb25zaWRlciB0YWtpbmcgYSBzaG9ydCBicmVhayBzb29uIHRvIG1haW50YWluIGZvY3VzLlwiO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IDAuMykge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIuKaoO+4jyBGb2N1cyBpcyBkcm9wcGluZyEgVGltZSBmb3IgYSA1LW1pbnV0ZSBtb3ZlbWVudCBicmVhayBvciB0cnkgYSBkaWZmZXJlbnQgbGVhcm5pbmcgc3R5bGUhXCJcclxuICAgICAgICA6IFwiQXR0ZW50aW9uIGlzIGRlY2xpbmluZy4gQSA1LW1pbnV0ZSBicmVhayBvciBhY3Rpdml0eSBjaGFuZ2UgaXMgcmVjb21tZW5kZWQuXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIvCflIQgTG93IGZvY3VzIGRldGVjdGVkISBMZXQncyBzd2l0Y2ggdG8gc29tZXRoaW5nIG1vcmUgZW5nYWdpbmcgLSB0cnkgYSBnYW1lIG9yIGhhbmRzLW9uIGFjdGl2aXR5IVwiXHJcbiAgICAgICAgOiBcIkxvdyBhdHRlbnRpb24gZGV0ZWN0ZWQuIENvbnNpZGVyIGEgbG9uZ2VyIGJyZWFrIG9yIHN3aXRjaGluZyB0byBhIGRpZmZlcmVudCB0eXBlIG9mIGFjdGl2aXR5LlwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZVBlcmZvcm1hbmNlRXhwbGFuYXRpb24oXHJcbiAgICB2YWx1ZTogbnVtYmVyLFxyXG4gICAgaW5wdXQ6IFByZWRpY3Rpb25JbnB1dFxyXG4gICk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBpc0FESEQgPSBpbnB1dC5hZGhkU2NvcmUgJiYgaW5wdXQuYWRoZFNjb3JlID4gNzA7XHJcblxyXG4gICAgaWYgKHZhbHVlID4gMC43KSB7XHJcbiAgICAgIHJldHVybiBpc0FESERcclxuICAgICAgICA/IFwi4q2QIFlvdSdyZSBjcnVzaGluZyBpdCEgWW91ciBicmFpbiBpcyBmaXJpbmcgb24gYWxsIGN5bGluZGVycyEgS2VlcCB1cCB0aGUgZ3JlYXQgd29yayFcIlxyXG4gICAgICAgIDogXCJFeGNlbGxlbnQgcGVyZm9ybWFuY2UgZXhwZWN0ZWQhIFlvdSdyZSBpbiBhIHByb2R1Y3RpdmUgem9uZS5cIjtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPiAwLjUpIHtcclxuICAgICAgcmV0dXJuIGlzQURIRFxyXG4gICAgICAgID8gXCLwn5qAIEdvb2QgbW9tZW50dW0hIFlvdSdyZSBkb2luZyB3ZWxsISBNYXliZSB0cnkgYnJlYWtpbmcgdGFza3MgaW50byBzbWFsbGVyIGNodW5rcz9cIlxyXG4gICAgICAgIDogXCJHb29kIHBlcmZvcm1hbmNlIGxldmVsLiBZb3UncmUgbGlrZWx5IHRvIGNvbXBsZXRlIHRhc2tzIGVmZmVjdGl2ZWx5LlwiO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IDAuMykge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIvCfkqogUGVyZm9ybWFuY2UgaXMgb2theSwgYnV0IGxldCdzIGJvb3N0IGl0ISBUcnkgYSBkaWZmZXJlbnQgbGVhcm5pbmcgc3R5bGUgb3IgdGFrZSBhIG1vdmVtZW50IGJyZWFrIVwiXHJcbiAgICAgICAgOiBcIlBlcmZvcm1hbmNlIG1heSBiZSBhZmZlY3RlZC4gQ29uc2lkZXIgYWRqdXN0aW5nIGRpZmZpY3VsdHkgb3IgdGFraW5nIGEgYnJlYWsuXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIvCfjq4gVGltZSB0byBzd2l0Y2ggaXQgdXAhIFRyeSBhIGdhbWUtYmFzZWQgYXBwcm9hY2ggb3IgaGFuZHMtb24gbGVhcm5pbmchXCJcclxuICAgICAgICA6IFwiUGVyZm9ybWFuY2UgbWF5IGJlIGxvdy4gVHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIG9yIHRha2UgYSBsb25nZXIgYnJlYWsuXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlRW5nYWdlbWVudEV4cGxhbmF0aW9uKFxyXG4gICAgdmFsdWU6IG51bWJlcixcclxuICAgIGlucHV0OiBQcmVkaWN0aW9uSW5wdXRcclxuICApOiBzdHJpbmcge1xyXG4gICAgY29uc3QgaXNBREhEID0gaW5wdXQuYWRoZFNjb3JlICYmIGlucHV0LmFkaGRTY29yZSA+IDcwO1xyXG5cclxuICAgIGlmICh2YWx1ZSA+IDAuNykge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIvCflKUgWW91J3JlIHRvdGFsbHkgZW5nYWdlZCEgVGhpcyBpcyB5b3VyIHN3ZWV0IHNwb3QhIEtlZXAgZ29pbmcgd2l0aCB0aGlzIHR5cGUgb2YgYWN0aXZpdHkhXCJcclxuICAgICAgICA6IFwiSGlnaCBlbmdhZ2VtZW50ISBZb3UncmUgbGlrZWx5IHRvIHN0YXkgbW90aXZhdGVkIGFuZCBpbnRlcmVzdGVkLlwiO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IDAuNSkge1xyXG4gICAgICByZXR1cm4gaXNBREhEXHJcbiAgICAgICAgPyBcIvCfmIogR29vZCBlbmdhZ2VtZW50ISBZb3UncmUgaW50byBpdCEgTWF5YmUgYWRkIHNvbWUgbXVzaWMgb3IgbW92ZW1lbnQgdG8ga2VlcCBpdCBmcmVzaD9cIlxyXG4gICAgICAgIDogXCJHb29kIGVuZ2FnZW1lbnQgbGV2ZWwuIFRoZSBjdXJyZW50IGFjdGl2aXR5IHNlZW1zIHRvIGJlIHdvcmtpbmcgd2VsbC5cIjtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPiAwLjMpIHtcclxuICAgICAgcmV0dXJuIGlzQURIRFxyXG4gICAgICAgID8gXCLwn6SUIEVuZ2FnZW1lbnQgaXMgb2theSwgYnV0IGxldCdzIHNwaWNlIGl0IHVwISBUcnkgYWRkaW5nIGNvbG9ycywgc291bmRzLCBvciBpbnRlcmFjdGl2ZSBlbGVtZW50cyFcIlxyXG4gICAgICAgIDogXCJFbmdhZ2VtZW50IGlzIG1vZGVyYXRlLiBDb25zaWRlciBhZGRpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMgb3IgY2hhbmdpbmcgdGhlIGFjdGl2aXR5LlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGlzQURIRFxyXG4gICAgICAgID8gXCLwn46vIExvdyBlbmdhZ2VtZW50ISBUaW1lIGZvciBzb21ldGhpbmcgbW9yZSBleGNpdGluZyEgVHJ5IGdhbWVzLCB2aWRlb3MsIG9yIGhhbmRzLW9uIGFjdGl2aXRpZXMhXCJcclxuICAgICAgICA6IFwiTG93IGVuZ2FnZW1lbnQgZGV0ZWN0ZWQuIFRyeSBhIGRpZmZlcmVudCB0eXBlIG9mIGNvbnRlbnQgb3IgYWN0aXZpdHkuXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyB0cmFpbk1vZGVsKFxyXG4gICAgbW9kZWxUeXBlOiBcImF0dGVudGlvblwiIHwgXCJwZXJmb3JtYW5jZVwiIHwgXCJlbmdhZ2VtZW50XCIsXHJcbiAgICB0cmFpbmluZ0RhdGE6IGFueVtdXHJcbiAgKSB7XHJcbiAgICAvLyBUaGlzIHdvdWxkIGJlIHVzZWQgdG8gcmV0cmFpbiBtb2RlbHMgd2l0aCBuZXcgZGF0YVxyXG4gICAgLy8gRm9yIG5vdywgd2UnbGwgdXNlIHByZS10cmFpbmVkIHdlaWdodHNcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgVHJhaW5pbmcgJHttb2RlbFR5cGV9IG1vZGVsIHdpdGggJHt0cmFpbmluZ0RhdGEubGVuZ3RofSBzYW1wbGVzYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICBpZiAodGhpcy5hdHRlbnRpb25Nb2RlbCkgdGhpcy5hdHRlbnRpb25Nb2RlbC5kaXNwb3NlKCk7XHJcbiAgICBpZiAodGhpcy5wZXJmb3JtYW5jZU1vZGVsKSB0aGlzLnBlcmZvcm1hbmNlTW9kZWwuZGlzcG9zZSgpO1xyXG4gICAgaWYgKHRoaXMuZW5nYWdlbWVudE1vZGVsKSB0aGlzLmVuZ2FnZW1lbnRNb2RlbC5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbWxQcmVkaWN0b3IgPSBuZXcgTUxQcmVkaWN0b3IoKTtcclxuIl0sIm5hbWVzIjpbInRmIiwiTUxQcmVkaWN0b3IiLCJpbml0aWFsaXplIiwiaXNJbml0aWFsaXplZCIsImF0dGVudGlvbk1vZGVsIiwiY3JlYXRlQXR0ZW50aW9uTW9kZWwiLCJwZXJmb3JtYW5jZU1vZGVsIiwiY3JlYXRlUGVyZm9ybWFuY2VNb2RlbCIsImVuZ2FnZW1lbnRNb2RlbCIsImNyZWF0ZUVuZ2FnZW1lbnRNb2RlbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1vZGVsIiwic2VxdWVudGlhbCIsImxheWVycyIsImRlbnNlIiwiaW5wdXRTaGFwZSIsInVuaXRzIiwiYWN0aXZhdGlvbiIsImtlcm5lbFJlZ3VsYXJpemVyIiwicmVndWxhcml6ZXJzIiwibDIiLCJkcm9wb3V0IiwicmF0ZSIsImNvbXBpbGUiLCJvcHRpbWl6ZXIiLCJ0cmFpbiIsImFkYW0iLCJsb3NzIiwibWV0cmljcyIsInByZXBhcmVGZWF0dXJlcyIsImlucHV0IiwiZmVhdHVyZXMiLCJwYWRBcnJheSIsInJlY2VudEF0dGVudGlvbiIsInNsaWNlIiwicmVjZW50UGVyZm9ybWFuY2UiLCJ0aW1lT2ZEYXkiLCJNYXRoIiwibWluIiwic2Vzc2lvbkR1cmF0aW9uIiwidGVuc29yMmQiLCJhcnIiLCJ0YXJnZXRMZW5ndGgiLCJwYWRWYWx1ZSIsImxlbmd0aCIsInVuc2hpZnQiLCJwcmVkaWN0QXR0ZW50aW9uVHJlbmQiLCJwcmVkaWN0aW9uIiwicHJlZGljdCIsInByZWRpY3RlZFZhbHVlIiwiZGF0YSIsImNvbmZpZGVuY2UiLCJjYWxjdWxhdGVDb25maWRlbmNlIiwiZGlzcG9zZSIsImV4cGxhbmF0aW9uIiwiZ2VuZXJhdGVBdHRlbnRpb25FeHBsYW5hdGlvbiIsInByZWRpY3RQZXJmb3JtYW5jZSIsImdlbmVyYXRlUGVyZm9ybWFuY2VFeHBsYW5hdGlvbiIsInByZWRpY3RFbmdhZ2VtZW50IiwiZ2VuZXJhdGVFbmdhZ2VtZW50RXhwbGFuYXRpb24iLCJub3ciLCJEYXRlIiwiZ2V0SG91cnMiLCJhZGhkU2NvcmUiLCJ2YWx1ZSIsImlzQURIRCIsInRyYWluTW9kZWwiLCJtb2RlbFR5cGUiLCJ0cmFpbmluZ0RhdGEiLCJtbFByZWRpY3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ml/predictor.ts\n");

/***/ }),

/***/ "(rsc)/./lib/realtime/collector.ts":
/*!***********************************!*\
  !*** ./lib/realtime/collector.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RealTimeDataCollector: () => (/* binding */ RealTimeDataCollector),\n/* harmony export */   dataCollector: () => (/* binding */ dataCollector)\n/* harmony export */ });\n/* harmony import */ var _models_RealTimeData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/models/RealTimeData */ \"(rsc)/./models/RealTimeData.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nclass RealTimeDataCollector {\n    constructor(){\n        this.dataBuffer = [];\n        this.flushInterval = null;\n        this.BUFFER_SIZE = 50;\n        this.FLUSH_INTERVAL = 5000 // 5 seconds\n        ;\n        this.startFlushTimer();\n    }\n    static getInstance() {\n        if (!RealTimeDataCollector.instance) {\n            RealTimeDataCollector.instance = new RealTimeDataCollector();\n        }\n        return RealTimeDataCollector.instance;\n    }\n    async collectData(dataPoint) {\n        this.dataBuffer.push(dataPoint);\n        // Flush if buffer is full\n        if (this.dataBuffer.length >= this.BUFFER_SIZE) {\n            await this.flushBuffer();\n        }\n    }\n    startFlushTimer() {\n        this.flushInterval = setInterval(async ()=>{\n            if (this.dataBuffer.length > 0) {\n                await this.flushBuffer();\n            }\n        }, this.FLUSH_INTERVAL);\n    }\n    async flushBuffer() {\n        if (this.dataBuffer.length === 0) return;\n        try {\n            await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n            const dataToSave = this.dataBuffer.map((point)=>({\n                    userId: point.userId,\n                    timestamp: new Date(),\n                    dataType: point.dataType,\n                    value: point.value,\n                    metadata: point.metadata\n                }));\n            await _models_RealTimeData__WEBPACK_IMPORTED_MODULE_0__.RealTimeData.insertMany(dataToSave);\n            this.dataBuffer = [];\n            console.log(`Flushed ${dataToSave.length} data points to database`);\n        } catch (error) {\n            console.error(\"Failed to flush data buffer:\", error);\n        // Keep data in buffer for retry\n        }\n    }\n    // Simulate real-time data collection from various sources\n    async simulateAttentionData(userId, adhdScore) {\n        // Simulate attention based on time of day, user patterns, and ADHD characteristics\n        const now = new Date();\n        const hour = now.getHours();\n        const minute = now.getMinutes();\n        // Base attention varies by time of day\n        let baseAttention = 0.5;\n        if (hour >= 9 && hour <= 11) baseAttention = 0.8 // Morning peak\n        ;\n        else if (hour >= 14 && hour <= 16) baseAttention = 0.7 // Afternoon\n        ;\n        else if (hour >= 19 && hour <= 21) baseAttention = 0.6 // Evening\n        ;\n        else baseAttention = 0.4 // Other times\n        ;\n        // ADHD-specific adjustments\n        if (adhdScore && adhdScore > 70) {\n            // ADHD students often have more variable attention patterns\n            const adhdVariation = (Math.random() - 0.5) * 0.4 // More variation\n            ;\n            // Hyperfocus periods (random but more likely during preferred times)\n            if (Math.random() < 0.15) {\n                baseAttention = Math.min(0.95, baseAttention + 0.3);\n            }\n            // Attention drops more frequently\n            if (Math.random() < 0.2) {\n                baseAttention = Math.max(0.2, baseAttention - 0.4);\n            }\n            baseAttention += adhdVariation;\n        } else {\n            // Standard variation for non-ADHD students\n            const variation = (Math.random() - 0.5) * 0.3;\n            baseAttention += variation;\n        }\n        const attention = Math.max(0, Math.min(1, baseAttention));\n        await this.collectData({\n            userId,\n            dataType: \"attention\",\n            value: attention,\n            metadata: {\n                source: \"simulated\",\n                confidence: adhdScore && adhdScore > 70 ? 0.9 : 0.8,\n                context: `Time: ${hour}:${minute.toString().padStart(2, \"0\")}, ADHD: ${adhdScore || \"unknown\"}`\n            }\n        });\n        return attention;\n    }\n    async simulateEngagementData(userId, activityType, adhdScore) {\n        // Simulate engagement based on activity type and ADHD preferences\n        const engagementMap = {\n            \"math\": 0.6,\n            \"reading\": 0.7,\n            \"game\": 0.9,\n            \"video\": 0.8,\n            \"quiz\": 0.5,\n            \"break\": 0.3,\n            \"interactive\": 0.95,\n            \"visual\": 0.85,\n            \"kinesthetic\": 0.9,\n            \"auditory\": 0.7\n        };\n        let baseEngagement = engagementMap[activityType] || 0.5;\n        // ADHD-specific engagement patterns\n        if (adhdScore && adhdScore > 70) {\n            // ADHD students often have higher engagement with interactive, visual, and kinesthetic activities\n            if ([\n                \"interactive\",\n                \"visual\",\n                \"kinesthetic\",\n                \"game\"\n            ].includes(activityType)) {\n                baseEngagement += 0.1 // Boost for preferred activity types\n                ;\n            }\n            // More variable engagement patterns\n            const variation = (Math.random() - 0.5) * 0.3;\n            baseEngagement += variation;\n            // Occasional hyperfocus on preferred activities\n            if ([\n                \"interactive\",\n                \"game\",\n                \"visual\"\n            ].includes(activityType) && Math.random() < 0.2) {\n                baseEngagement = Math.min(0.98, baseEngagement + 0.2);\n            }\n        } else {\n            const variation = (Math.random() - 0.5) * 0.2;\n            baseEngagement += variation;\n        }\n        const engagement = Math.max(0, Math.min(1, baseEngagement));\n        await this.collectData({\n            userId,\n            dataType: \"engagement\",\n            value: engagement,\n            metadata: {\n                source: \"simulated\",\n                confidence: adhdScore && adhdScore > 70 ? 0.85 : 0.7,\n                context: `Activity: ${activityType}, ADHD: ${adhdScore || \"unknown\"}`\n            }\n        });\n        return engagement;\n    }\n    async simulatePerformanceData(userId, taskDifficulty) {\n        // Simulate performance based on task difficulty and user ability\n        const userAbility = 0.6 // This could be learned from historical data\n        ;\n        const difficulty = taskDifficulty;\n        // Performance decreases as difficulty increases beyond user ability\n        let performance = userAbility - (difficulty - userAbility) * 0.5;\n        performance = Math.max(0, Math.min(1, performance));\n        // Add some realistic variation\n        const variation = (Math.random() - 0.5) * 0.15;\n        performance = Math.max(0, Math.min(1, performance + variation));\n        await this.collectData({\n            userId,\n            dataType: \"performance\",\n            value: performance,\n            metadata: {\n                source: \"simulated\",\n                confidence: 0.75,\n                context: `Difficulty: ${difficulty}`\n            }\n        });\n        return performance;\n    }\n    async simulateMoodData(userId) {\n        // Simulate mood based on recent performance and engagement\n        const now = new Date();\n        const dayOfWeek = now.getDay();\n        // Mood tends to be better on weekdays and worse on Mondays\n        let baseMood = 0.6;\n        if (dayOfWeek === 1) baseMood = 0.4 // Monday\n        ;\n        else if (dayOfWeek >= 1 && dayOfWeek <= 5) baseMood = 0.7 // Weekdays\n        ;\n        else baseMood = 0.8 // Weekend\n        ;\n        const variation = (Math.random() - 0.5) * 0.3;\n        const mood = Math.max(0, Math.min(1, baseMood + variation));\n        await this.collectData({\n            userId,\n            dataType: \"mood\",\n            value: mood,\n            metadata: {\n                source: \"simulated\",\n                confidence: 0.6,\n                context: `Day: ${dayOfWeek}`\n            }\n        });\n        return mood;\n    }\n    async getRecentData(userId, dataType, minutes = 30) {\n        try {\n            await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n            const since = new Date(Date.now() - minutes * 60 * 1000);\n            const data = await _models_RealTimeData__WEBPACK_IMPORTED_MODULE_0__.RealTimeData.find({\n                userId,\n                dataType,\n                timestamp: {\n                    $gte: since\n                }\n            }).sort({\n                timestamp: -1\n            }).limit(100);\n            return data;\n        } catch (error) {\n            console.error(\"Failed to get recent data:\", error);\n            return [];\n        }\n    }\n    async getDataSummary(userId, hours = 24) {\n        try {\n            await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n            const since = new Date(Date.now() - hours * 60 * 60 * 1000);\n            const data = await _models_RealTimeData__WEBPACK_IMPORTED_MODULE_0__.RealTimeData.find({\n                userId,\n                timestamp: {\n                    $gte: since\n                }\n            }).sort({\n                timestamp: -1\n            });\n            // Group by data type and calculate averages\n            const summary = {};\n            const dataTypes = [\n                \"attention\",\n                \"engagement\",\n                \"performance\",\n                \"mood\",\n                \"activity\"\n            ];\n            dataTypes.forEach((type)=>{\n                const typeData = data.filter((d)=>d.dataType === type);\n                if (typeData.length > 0) {\n                    const values = typeData.map((d)=>d.value);\n                    summary[type] = {\n                        average: values.reduce((a, b)=>a + b, 0) / values.length,\n                        min: Math.min(...values),\n                        max: Math.max(...values),\n                        count: values.length,\n                        trend: this.calculateTrend(values)\n                    };\n                }\n            });\n            return summary;\n        } catch (error) {\n            console.error(\"Failed to get data summary:\", error);\n            return {};\n        }\n    }\n    calculateTrend(values) {\n        if (values.length < 2) return \"stable\";\n        const firstHalf = values.slice(0, Math.floor(values.length / 2));\n        const secondHalf = values.slice(Math.floor(values.length / 2));\n        const firstAvg = firstHalf.reduce((a, b)=>a + b, 0) / firstHalf.length;\n        const secondAvg = secondHalf.reduce((a, b)=>a + b, 0) / secondHalf.length;\n        const diff = secondAvg - firstAvg;\n        if (diff > 0.1) return \"up\";\n        if (diff < -0.1) return \"down\";\n        return \"stable\";\n    }\n    destroy() {\n        if (this.flushInterval) {\n            clearInterval(this.flushInterval);\n        }\n        this.flushBuffer() // Final flush\n        ;\n    }\n}\nconst dataCollector = RealTimeDataCollector.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmVhbHRpbWUvY29sbGVjdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0Q7QUFDUjtBQWNyQyxNQUFNRTtJQU9YLGFBQXNCO2FBTGRDLGFBQTBCLEVBQUU7YUFDNUJDLGdCQUF1QzthQUM5QkMsY0FBYzthQUNkQyxpQkFBaUIsS0FBSyxZQUFZOztRQUdqRCxJQUFJLENBQUNDLGVBQWU7SUFDdEI7SUFFQSxPQUFPQyxjQUFxQztRQUMxQyxJQUFJLENBQUNOLHNCQUFzQk8sUUFBUSxFQUFFO1lBQ25DUCxzQkFBc0JPLFFBQVEsR0FBRyxJQUFJUDtRQUN2QztRQUNBLE9BQU9BLHNCQUFzQk8sUUFBUTtJQUN2QztJQUVBLE1BQU1DLFlBQVlDLFNBQW9CLEVBQWlCO1FBQ3JELElBQUksQ0FBQ1IsVUFBVSxDQUFDUyxJQUFJLENBQUNEO1FBRXJCLDBCQUEwQjtRQUMxQixJQUFJLElBQUksQ0FBQ1IsVUFBVSxDQUFDVSxNQUFNLElBQUksSUFBSSxDQUFDUixXQUFXLEVBQUU7WUFDOUMsTUFBTSxJQUFJLENBQUNTLFdBQVc7UUFDeEI7SUFDRjtJQUVRUCxrQkFBd0I7UUFDOUIsSUFBSSxDQUFDSCxhQUFhLEdBQUdXLFlBQVk7WUFDL0IsSUFBSSxJQUFJLENBQUNaLFVBQVUsQ0FBQ1UsTUFBTSxHQUFHLEdBQUc7Z0JBQzlCLE1BQU0sSUFBSSxDQUFDQyxXQUFXO1lBQ3hCO1FBQ0YsR0FBRyxJQUFJLENBQUNSLGNBQWM7SUFDeEI7SUFFQSxNQUFjUSxjQUE2QjtRQUN6QyxJQUFJLElBQUksQ0FBQ1gsVUFBVSxDQUFDVSxNQUFNLEtBQUssR0FBRztRQUVsQyxJQUFJO1lBQ0YsTUFBTVosMERBQWlCQTtZQUV2QixNQUFNZSxhQUFhLElBQUksQ0FBQ2IsVUFBVSxDQUFDYyxHQUFHLENBQUNDLENBQUFBLFFBQVU7b0JBQy9DQyxRQUFRRCxNQUFNQyxNQUFNO29CQUNwQkMsV0FBVyxJQUFJQztvQkFDZkMsVUFBVUosTUFBTUksUUFBUTtvQkFDeEJDLE9BQU9MLE1BQU1LLEtBQUs7b0JBQ2xCQyxVQUFVTixNQUFNTSxRQUFRO2dCQUMxQjtZQUVBLE1BQU14Qiw4REFBWUEsQ0FBQ3lCLFVBQVUsQ0FBQ1Q7WUFDOUIsSUFBSSxDQUFDYixVQUFVLEdBQUcsRUFBRTtZQUVwQnVCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRVgsV0FBV0gsTUFBTSxDQUFDLHdCQUF3QixDQUFDO1FBQ3BFLEVBQUUsT0FBT2UsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxnQ0FBZ0M7UUFDbEM7SUFDRjtJQUVBLDBEQUEwRDtJQUMxRCxNQUFNQyxzQkFBc0JWLE1BQWMsRUFBRVcsU0FBa0IsRUFBbUI7UUFDL0UsbUZBQW1GO1FBQ25GLE1BQU1DLE1BQU0sSUFBSVY7UUFDaEIsTUFBTVcsT0FBT0QsSUFBSUUsUUFBUTtRQUN6QixNQUFNQyxTQUFTSCxJQUFJSSxVQUFVO1FBRTdCLHVDQUF1QztRQUN2QyxJQUFJQyxnQkFBZ0I7UUFDcEIsSUFBSUosUUFBUSxLQUFLQSxRQUFRLElBQUlJLGdCQUFnQixJQUFJLGVBQWU7O2FBQzNELElBQUlKLFFBQVEsTUFBTUEsUUFBUSxJQUFJSSxnQkFBZ0IsSUFBSSxZQUFZOzthQUM5RCxJQUFJSixRQUFRLE1BQU1BLFFBQVEsSUFBSUksZ0JBQWdCLElBQUksVUFBVTs7YUFDNURBLGdCQUFnQixJQUFJLGNBQWM7O1FBRXZDLDRCQUE0QjtRQUM1QixJQUFJTixhQUFhQSxZQUFZLElBQUk7WUFDL0IsNERBQTREO1lBQzVELE1BQU1PLGdCQUFnQixDQUFDQyxLQUFLQyxNQUFNLEtBQUssR0FBRSxJQUFLLElBQUksaUJBQWlCOztZQUVuRSxxRUFBcUU7WUFDckUsSUFBSUQsS0FBS0MsTUFBTSxLQUFLLE1BQU07Z0JBQ3hCSCxnQkFBZ0JFLEtBQUtFLEdBQUcsQ0FBQyxNQUFNSixnQkFBZ0I7WUFDakQ7WUFFQSxrQ0FBa0M7WUFDbEMsSUFBSUUsS0FBS0MsTUFBTSxLQUFLLEtBQUs7Z0JBQ3ZCSCxnQkFBZ0JFLEtBQUtHLEdBQUcsQ0FBQyxLQUFLTCxnQkFBZ0I7WUFDaEQ7WUFFQUEsaUJBQWlCQztRQUNuQixPQUFPO1lBQ0wsMkNBQTJDO1lBQzNDLE1BQU1LLFlBQVksQ0FBQ0osS0FBS0MsTUFBTSxLQUFLLEdBQUUsSUFBSztZQUMxQ0gsaUJBQWlCTTtRQUNuQjtRQUVBLE1BQU1DLFlBQVlMLEtBQUtHLEdBQUcsQ0FBQyxHQUFHSCxLQUFLRSxHQUFHLENBQUMsR0FBR0o7UUFFMUMsTUFBTSxJQUFJLENBQUMxQixXQUFXLENBQUM7WUFDckJTO1lBQ0FHLFVBQVU7WUFDVkMsT0FBT29CO1lBQ1BuQixVQUFVO2dCQUNSb0IsUUFBUTtnQkFDUkMsWUFBWWYsYUFBYUEsWUFBWSxLQUFLLE1BQU07Z0JBQ2hEZ0IsU0FBUyxDQUFDLE1BQU0sRUFBRWQsS0FBSyxDQUFDLEVBQUVFLE9BQU9hLFFBQVEsR0FBR0MsUUFBUSxDQUFDLEdBQUcsS0FBSyxRQUFRLEVBQUVsQixhQUFhLFVBQVUsQ0FBQztZQUNqRztRQUNGO1FBRUEsT0FBT2E7SUFDVDtJQUVBLE1BQU1NLHVCQUF1QjlCLE1BQWMsRUFBRStCLFlBQW9CLEVBQUVwQixTQUFrQixFQUFtQjtRQUN0RyxrRUFBa0U7UUFDbEUsTUFBTXFCLGdCQUEyQztZQUMvQyxRQUFRO1lBQ1IsV0FBVztZQUNYLFFBQVE7WUFDUixTQUFTO1lBQ1QsUUFBUTtZQUNSLFNBQVM7WUFDVCxlQUFlO1lBQ2YsVUFBVTtZQUNWLGVBQWU7WUFDZixZQUFZO1FBQ2Q7UUFFQSxJQUFJQyxpQkFBaUJELGFBQWEsQ0FBQ0QsYUFBYSxJQUFJO1FBRXBELG9DQUFvQztRQUNwQyxJQUFJcEIsYUFBYUEsWUFBWSxJQUFJO1lBQy9CLGtHQUFrRztZQUNsRyxJQUFJO2dCQUFDO2dCQUFlO2dCQUFVO2dCQUFlO2FBQU8sQ0FBQ3VCLFFBQVEsQ0FBQ0gsZUFBZTtnQkFDM0VFLGtCQUFrQixJQUFJLHFDQUFxQzs7WUFDN0Q7WUFFQSxvQ0FBb0M7WUFDcEMsTUFBTVYsWUFBWSxDQUFDSixLQUFLQyxNQUFNLEtBQUssR0FBRSxJQUFLO1lBQzFDYSxrQkFBa0JWO1lBRWxCLGdEQUFnRDtZQUNoRCxJQUFJO2dCQUFDO2dCQUFlO2dCQUFRO2FBQVMsQ0FBQ1csUUFBUSxDQUFDSCxpQkFBaUJaLEtBQUtDLE1BQU0sS0FBSyxLQUFLO2dCQUNuRmEsaUJBQWlCZCxLQUFLRSxHQUFHLENBQUMsTUFBTVksaUJBQWlCO1lBQ25EO1FBQ0YsT0FBTztZQUNMLE1BQU1WLFlBQVksQ0FBQ0osS0FBS0MsTUFBTSxLQUFLLEdBQUUsSUFBSztZQUMxQ2Esa0JBQWtCVjtRQUNwQjtRQUVBLE1BQU1ZLGFBQWFoQixLQUFLRyxHQUFHLENBQUMsR0FBR0gsS0FBS0UsR0FBRyxDQUFDLEdBQUdZO1FBRTNDLE1BQU0sSUFBSSxDQUFDMUMsV0FBVyxDQUFDO1lBQ3JCUztZQUNBRyxVQUFVO1lBQ1ZDLE9BQU8rQjtZQUNQOUIsVUFBVTtnQkFDUm9CLFFBQVE7Z0JBQ1JDLFlBQVlmLGFBQWFBLFlBQVksS0FBSyxPQUFPO2dCQUNqRGdCLFNBQVMsQ0FBQyxVQUFVLEVBQUVJLGFBQWEsUUFBUSxFQUFFcEIsYUFBYSxVQUFVLENBQUM7WUFDdkU7UUFDRjtRQUVBLE9BQU93QjtJQUNUO0lBRUEsTUFBTUMsd0JBQXdCcEMsTUFBYyxFQUFFcUMsY0FBc0IsRUFBbUI7UUFDckYsaUVBQWlFO1FBQ2pFLE1BQU1DLGNBQWMsSUFBSSw2Q0FBNkM7O1FBQ3JFLE1BQU1DLGFBQWFGO1FBRW5CLG9FQUFvRTtRQUNwRSxJQUFJRyxjQUFjRixjQUFjLENBQUNDLGFBQWFELFdBQVUsSUFBSztRQUM3REUsY0FBY3JCLEtBQUtHLEdBQUcsQ0FBQyxHQUFHSCxLQUFLRSxHQUFHLENBQUMsR0FBR21CO1FBRXRDLCtCQUErQjtRQUMvQixNQUFNakIsWUFBWSxDQUFDSixLQUFLQyxNQUFNLEtBQUssR0FBRSxJQUFLO1FBQzFDb0IsY0FBY3JCLEtBQUtHLEdBQUcsQ0FBQyxHQUFHSCxLQUFLRSxHQUFHLENBQUMsR0FBR21CLGNBQWNqQjtRQUVwRCxNQUFNLElBQUksQ0FBQ2hDLFdBQVcsQ0FBQztZQUNyQlM7WUFDQUcsVUFBVTtZQUNWQyxPQUFPb0M7WUFDUG5DLFVBQVU7Z0JBQ1JvQixRQUFRO2dCQUNSQyxZQUFZO2dCQUNaQyxTQUFTLENBQUMsWUFBWSxFQUFFWSxXQUFXLENBQUM7WUFDdEM7UUFDRjtRQUVBLE9BQU9DO0lBQ1Q7SUFFQSxNQUFNQyxpQkFBaUJ6QyxNQUFjLEVBQW1CO1FBQ3RELDJEQUEyRDtRQUMzRCxNQUFNWSxNQUFNLElBQUlWO1FBQ2hCLE1BQU13QyxZQUFZOUIsSUFBSStCLE1BQU07UUFFNUIsMkRBQTJEO1FBQzNELElBQUlDLFdBQVc7UUFDZixJQUFJRixjQUFjLEdBQUdFLFdBQVcsSUFBSSxTQUFTOzthQUN4QyxJQUFJRixhQUFhLEtBQUtBLGFBQWEsR0FBR0UsV0FBVyxJQUFJLFdBQVc7O2FBQ2hFQSxXQUFXLElBQUksVUFBVTs7UUFFOUIsTUFBTXJCLFlBQVksQ0FBQ0osS0FBS0MsTUFBTSxLQUFLLEdBQUUsSUFBSztRQUMxQyxNQUFNeUIsT0FBTzFCLEtBQUtHLEdBQUcsQ0FBQyxHQUFHSCxLQUFLRSxHQUFHLENBQUMsR0FBR3VCLFdBQVdyQjtRQUVoRCxNQUFNLElBQUksQ0FBQ2hDLFdBQVcsQ0FBQztZQUNyQlM7WUFDQUcsVUFBVTtZQUNWQyxPQUFPeUM7WUFDUHhDLFVBQVU7Z0JBQ1JvQixRQUFRO2dCQUNSQyxZQUFZO2dCQUNaQyxTQUFTLENBQUMsS0FBSyxFQUFFZSxVQUFVLENBQUM7WUFDOUI7UUFDRjtRQUVBLE9BQU9HO0lBQ1Q7SUFFQSxNQUFNQyxjQUFjOUMsTUFBYyxFQUFFRyxRQUFnQixFQUFFNEMsVUFBa0IsRUFBRSxFQUFrQjtRQUMxRixJQUFJO1lBQ0YsTUFBTWpFLDBEQUFpQkE7WUFFdkIsTUFBTWtFLFFBQVEsSUFBSTlDLEtBQUtBLEtBQUtVLEdBQUcsS0FBS21DLFVBQVUsS0FBSztZQUNuRCxNQUFNRSxPQUFPLE1BQU1wRSw4REFBWUEsQ0FBQ3FFLElBQUksQ0FBQztnQkFDbkNsRDtnQkFDQUc7Z0JBQ0FGLFdBQVc7b0JBQUVrRCxNQUFNSDtnQkFBTTtZQUMzQixHQUFHSSxJQUFJLENBQUM7Z0JBQUVuRCxXQUFXLENBQUM7WUFBRSxHQUFHb0QsS0FBSyxDQUFDO1lBRWpDLE9BQU9KO1FBQ1QsRUFBRSxPQUFPeEMsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsOEJBQThCQTtZQUM1QyxPQUFPLEVBQUU7UUFDWDtJQUNGO0lBRUEsTUFBTTZDLGVBQWV0RCxNQUFjLEVBQUV1RCxRQUFnQixFQUFFLEVBQWdCO1FBQ3JFLElBQUk7WUFDRixNQUFNekUsMERBQWlCQTtZQUV2QixNQUFNa0UsUUFBUSxJQUFJOUMsS0FBS0EsS0FBS1UsR0FBRyxLQUFLMkMsUUFBUSxLQUFLLEtBQUs7WUFDdEQsTUFBTU4sT0FBTyxNQUFNcEUsOERBQVlBLENBQUNxRSxJQUFJLENBQUM7Z0JBQ25DbEQ7Z0JBQ0FDLFdBQVc7b0JBQUVrRCxNQUFNSDtnQkFBTTtZQUMzQixHQUFHSSxJQUFJLENBQUM7Z0JBQUVuRCxXQUFXLENBQUM7WUFBRTtZQUV4Qiw0Q0FBNEM7WUFDNUMsTUFBTXVELFVBQWtDLENBQUM7WUFFekMsTUFBTUMsWUFBWTtnQkFBQztnQkFBYTtnQkFBYztnQkFBZTtnQkFBUTthQUFXO1lBRWhGQSxVQUFVQyxPQUFPLENBQUNDLENBQUFBO2dCQUNoQixNQUFNQyxXQUFXWCxLQUFLWSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUUzRCxRQUFRLEtBQUt3RDtnQkFDakQsSUFBSUMsU0FBU2xFLE1BQU0sR0FBRyxHQUFHO29CQUN2QixNQUFNcUUsU0FBU0gsU0FBUzlELEdBQUcsQ0FBQ2dFLENBQUFBLElBQUtBLEVBQUUxRCxLQUFLO29CQUN4Q29ELE9BQU8sQ0FBQ0csS0FBSyxHQUFHO3dCQUNkSyxTQUFTRCxPQUFPRSxNQUFNLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsSUFBSUMsR0FBRyxLQUFLSixPQUFPckUsTUFBTTt3QkFDMUQyQixLQUFLRixLQUFLRSxHQUFHLElBQUkwQzt3QkFDakJ6QyxLQUFLSCxLQUFLRyxHQUFHLElBQUl5Qzt3QkFDakJLLE9BQU9MLE9BQU9yRSxNQUFNO3dCQUNwQjJFLE9BQU8sSUFBSSxDQUFDQyxjQUFjLENBQUNQO29CQUM3QjtnQkFDRjtZQUNGO1lBRUEsT0FBT1A7UUFDVCxFQUFFLE9BQU8vQyxPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQywrQkFBK0JBO1lBQzdDLE9BQU8sQ0FBQztRQUNWO0lBQ0Y7SUFFUTZELGVBQWVQLE1BQWdCLEVBQTRCO1FBQ2pFLElBQUlBLE9BQU9yRSxNQUFNLEdBQUcsR0FBRyxPQUFPO1FBRTlCLE1BQU02RSxZQUFZUixPQUFPUyxLQUFLLENBQUMsR0FBR3JELEtBQUtzRCxLQUFLLENBQUNWLE9BQU9yRSxNQUFNLEdBQUc7UUFDN0QsTUFBTWdGLGFBQWFYLE9BQU9TLEtBQUssQ0FBQ3JELEtBQUtzRCxLQUFLLENBQUNWLE9BQU9yRSxNQUFNLEdBQUc7UUFFM0QsTUFBTWlGLFdBQVdKLFVBQVVOLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxJQUFJQyxHQUFHLEtBQUtJLFVBQVU3RSxNQUFNO1FBQ3hFLE1BQU1rRixZQUFZRixXQUFXVCxNQUFNLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsSUFBSUMsR0FBRyxLQUFLTyxXQUFXaEYsTUFBTTtRQUUzRSxNQUFNbUYsT0FBT0QsWUFBWUQ7UUFFekIsSUFBSUUsT0FBTyxLQUFLLE9BQU87UUFDdkIsSUFBSUEsT0FBTyxDQUFDLEtBQUssT0FBTztRQUN4QixPQUFPO0lBQ1Q7SUFFQUMsVUFBZ0I7UUFDZCxJQUFJLElBQUksQ0FBQzdGLGFBQWEsRUFBRTtZQUN0QjhGLGNBQWMsSUFBSSxDQUFDOUYsYUFBYTtRQUNsQztRQUNBLElBQUksQ0FBQ1UsV0FBVyxHQUFHLGNBQWM7O0lBQ25DO0FBQ0Y7QUFFTyxNQUFNcUYsZ0JBQWdCakcsc0JBQXNCTSxXQUFXLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2N1c2Zsb3cvLi9saWIvcmVhbHRpbWUvY29sbGVjdG9yLnRzPzc5OTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhbFRpbWVEYXRhIH0gZnJvbSAnQC9tb2RlbHMvUmVhbFRpbWVEYXRhJ1xyXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSB9IGZyb20gJ0AvbGliL2RiJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEYXRhUG9pbnQge1xyXG4gIHVzZXJJZDogc3RyaW5nXHJcbiAgZGF0YVR5cGU6ICdhdHRlbnRpb24nIHwgJ2VuZ2FnZW1lbnQnIHwgJ3BlcmZvcm1hbmNlJyB8ICdtb29kJyB8ICdhY3Rpdml0eSdcclxuICB2YWx1ZTogbnVtYmVyXHJcbiAgbWV0YWRhdGE/OiB7XHJcbiAgICBzb3VyY2U/OiBzdHJpbmdcclxuICAgIGNvbmZpZGVuY2U/OiBudW1iZXJcclxuICAgIGNvbnRleHQ/OiBzdHJpbmdcclxuICAgIGRldmljZUluZm8/OiBhbnlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZWFsVGltZURhdGFDb2xsZWN0b3Ige1xyXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBSZWFsVGltZURhdGFDb2xsZWN0b3JcclxuICBwcml2YXRlIGRhdGFCdWZmZXI6IERhdGFQb2ludFtdID0gW11cclxuICBwcml2YXRlIGZsdXNoSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGxcclxuICBwcml2YXRlIHJlYWRvbmx5IEJVRkZFUl9TSVpFID0gNTBcclxuICBwcml2YXRlIHJlYWRvbmx5IEZMVVNIX0lOVEVSVkFMID0gNTAwMCAvLyA1IHNlY29uZHNcclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc3RhcnRGbHVzaFRpbWVyKClcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBSZWFsVGltZURhdGFDb2xsZWN0b3Ige1xyXG4gICAgaWYgKCFSZWFsVGltZURhdGFDb2xsZWN0b3IuaW5zdGFuY2UpIHtcclxuICAgICAgUmVhbFRpbWVEYXRhQ29sbGVjdG9yLmluc3RhbmNlID0gbmV3IFJlYWxUaW1lRGF0YUNvbGxlY3RvcigpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVhbFRpbWVEYXRhQ29sbGVjdG9yLmluc3RhbmNlXHJcbiAgfVxyXG5cclxuICBhc3luYyBjb2xsZWN0RGF0YShkYXRhUG9pbnQ6IERhdGFQb2ludCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdGhpcy5kYXRhQnVmZmVyLnB1c2goZGF0YVBvaW50KVxyXG5cclxuICAgIC8vIEZsdXNoIGlmIGJ1ZmZlciBpcyBmdWxsXHJcbiAgICBpZiAodGhpcy5kYXRhQnVmZmVyLmxlbmd0aCA+PSB0aGlzLkJVRkZFUl9TSVpFKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZmx1c2hCdWZmZXIoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGFydEZsdXNoVGltZXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmZsdXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFCdWZmZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZmx1c2hCdWZmZXIoKVxyXG4gICAgICB9XHJcbiAgICB9LCB0aGlzLkZMVVNIX0lOVEVSVkFMKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBmbHVzaEJ1ZmZlcigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLmRhdGFCdWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm5cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhVG9TYXZlID0gdGhpcy5kYXRhQnVmZmVyLm1hcChwb2ludCA9PiAoe1xyXG4gICAgICAgIHVzZXJJZDogcG9pbnQudXNlcklkLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICBkYXRhVHlwZTogcG9pbnQuZGF0YVR5cGUsXHJcbiAgICAgICAgdmFsdWU6IHBvaW50LnZhbHVlLFxyXG4gICAgICAgIG1ldGFkYXRhOiBwb2ludC5tZXRhZGF0YVxyXG4gICAgICB9KSlcclxuXHJcbiAgICAgIGF3YWl0IFJlYWxUaW1lRGF0YS5pbnNlcnRNYW55KGRhdGFUb1NhdmUpXHJcbiAgICAgIHRoaXMuZGF0YUJ1ZmZlciA9IFtdXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRmx1c2hlZCAke2RhdGFUb1NhdmUubGVuZ3RofSBkYXRhIHBvaW50cyB0byBkYXRhYmFzZWApXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmx1c2ggZGF0YSBidWZmZXI6JywgZXJyb3IpXHJcbiAgICAgIC8vIEtlZXAgZGF0YSBpbiBidWZmZXIgZm9yIHJldHJ5XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTaW11bGF0ZSByZWFsLXRpbWUgZGF0YSBjb2xsZWN0aW9uIGZyb20gdmFyaW91cyBzb3VyY2VzXHJcbiAgYXN5bmMgc2ltdWxhdGVBdHRlbnRpb25EYXRhKHVzZXJJZDogc3RyaW5nLCBhZGhkU2NvcmU/OiBudW1iZXIpOiBQcm9taXNlPG51bWJlcj4ge1xyXG4gICAgLy8gU2ltdWxhdGUgYXR0ZW50aW9uIGJhc2VkIG9uIHRpbWUgb2YgZGF5LCB1c2VyIHBhdHRlcm5zLCBhbmQgQURIRCBjaGFyYWN0ZXJpc3RpY3NcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgIGNvbnN0IGhvdXIgPSBub3cuZ2V0SG91cnMoKVxyXG4gICAgY29uc3QgbWludXRlID0gbm93LmdldE1pbnV0ZXMoKVxyXG4gICAgXHJcbiAgICAvLyBCYXNlIGF0dGVudGlvbiB2YXJpZXMgYnkgdGltZSBvZiBkYXlcclxuICAgIGxldCBiYXNlQXR0ZW50aW9uID0gMC41XHJcbiAgICBpZiAoaG91ciA+PSA5ICYmIGhvdXIgPD0gMTEpIGJhc2VBdHRlbnRpb24gPSAwLjggLy8gTW9ybmluZyBwZWFrXHJcbiAgICBlbHNlIGlmIChob3VyID49IDE0ICYmIGhvdXIgPD0gMTYpIGJhc2VBdHRlbnRpb24gPSAwLjcgLy8gQWZ0ZXJub29uXHJcbiAgICBlbHNlIGlmIChob3VyID49IDE5ICYmIGhvdXIgPD0gMjEpIGJhc2VBdHRlbnRpb24gPSAwLjYgLy8gRXZlbmluZ1xyXG4gICAgZWxzZSBiYXNlQXR0ZW50aW9uID0gMC40IC8vIE90aGVyIHRpbWVzXHJcblxyXG4gICAgLy8gQURIRC1zcGVjaWZpYyBhZGp1c3RtZW50c1xyXG4gICAgaWYgKGFkaGRTY29yZSAmJiBhZGhkU2NvcmUgPiA3MCkge1xyXG4gICAgICAvLyBBREhEIHN0dWRlbnRzIG9mdGVuIGhhdmUgbW9yZSB2YXJpYWJsZSBhdHRlbnRpb24gcGF0dGVybnNcclxuICAgICAgY29uc3QgYWRoZFZhcmlhdGlvbiA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuNCAvLyBNb3JlIHZhcmlhdGlvblxyXG4gICAgICBcclxuICAgICAgLy8gSHlwZXJmb2N1cyBwZXJpb2RzIChyYW5kb20gYnV0IG1vcmUgbGlrZWx5IGR1cmluZyBwcmVmZXJyZWQgdGltZXMpXHJcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4xNSkgeyAvLyAxNSUgY2hhbmNlIG9mIGh5cGVyZm9jdXNcclxuICAgICAgICBiYXNlQXR0ZW50aW9uID0gTWF0aC5taW4oMC45NSwgYmFzZUF0dGVudGlvbiArIDAuMylcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQXR0ZW50aW9uIGRyb3BzIG1vcmUgZnJlcXVlbnRseVxyXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMikgeyAvLyAyMCUgY2hhbmNlIG9mIGF0dGVudGlvbiBkcm9wXHJcbiAgICAgICAgYmFzZUF0dGVudGlvbiA9IE1hdGgubWF4KDAuMiwgYmFzZUF0dGVudGlvbiAtIDAuNClcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgYmFzZUF0dGVudGlvbiArPSBhZGhkVmFyaWF0aW9uXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBTdGFuZGFyZCB2YXJpYXRpb24gZm9yIG5vbi1BREhEIHN0dWRlbnRzXHJcbiAgICAgIGNvbnN0IHZhcmlhdGlvbiA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuM1xyXG4gICAgICBiYXNlQXR0ZW50aW9uICs9IHZhcmlhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGF0dGVudGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGJhc2VBdHRlbnRpb24pKVxyXG5cclxuICAgIGF3YWl0IHRoaXMuY29sbGVjdERhdGEoe1xyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGRhdGFUeXBlOiAnYXR0ZW50aW9uJyxcclxuICAgICAgdmFsdWU6IGF0dGVudGlvbixcclxuICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICBzb3VyY2U6ICdzaW11bGF0ZWQnLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IGFkaGRTY29yZSAmJiBhZGhkU2NvcmUgPiA3MCA/IDAuOSA6IDAuOCwgLy8gSGlnaGVyIGNvbmZpZGVuY2UgZm9yIEFESEQgcGF0dGVybnNcclxuICAgICAgICBjb250ZXh0OiBgVGltZTogJHtob3VyfToke21pbnV0ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LCBBREhEOiAke2FkaGRTY29yZSB8fCAndW5rbm93bid9YFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBhdHRlbnRpb25cclxuICB9XHJcblxyXG4gIGFzeW5jIHNpbXVsYXRlRW5nYWdlbWVudERhdGEodXNlcklkOiBzdHJpbmcsIGFjdGl2aXR5VHlwZTogc3RyaW5nLCBhZGhkU2NvcmU/OiBudW1iZXIpOiBQcm9taXNlPG51bWJlcj4ge1xyXG4gICAgLy8gU2ltdWxhdGUgZW5nYWdlbWVudCBiYXNlZCBvbiBhY3Rpdml0eSB0eXBlIGFuZCBBREhEIHByZWZlcmVuY2VzXHJcbiAgICBjb25zdCBlbmdhZ2VtZW50TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xyXG4gICAgICAnbWF0aCc6IDAuNixcclxuICAgICAgJ3JlYWRpbmcnOiAwLjcsXHJcbiAgICAgICdnYW1lJzogMC45LFxyXG4gICAgICAndmlkZW8nOiAwLjgsXHJcbiAgICAgICdxdWl6JzogMC41LFxyXG4gICAgICAnYnJlYWsnOiAwLjMsXHJcbiAgICAgICdpbnRlcmFjdGl2ZSc6IDAuOTUsIC8vIEFESEQgc3R1ZGVudHMgb2Z0ZW4gcHJlZmVyIGludGVyYWN0aXZlIGNvbnRlbnRcclxuICAgICAgJ3Zpc3VhbCc6IDAuODUsXHJcbiAgICAgICdraW5lc3RoZXRpYyc6IDAuOSxcclxuICAgICAgJ2F1ZGl0b3J5JzogMC43XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJhc2VFbmdhZ2VtZW50ID0gZW5nYWdlbWVudE1hcFthY3Rpdml0eVR5cGVdIHx8IDAuNVxyXG5cclxuICAgIC8vIEFESEQtc3BlY2lmaWMgZW5nYWdlbWVudCBwYXR0ZXJuc1xyXG4gICAgaWYgKGFkaGRTY29yZSAmJiBhZGhkU2NvcmUgPiA3MCkge1xyXG4gICAgICAvLyBBREhEIHN0dWRlbnRzIG9mdGVuIGhhdmUgaGlnaGVyIGVuZ2FnZW1lbnQgd2l0aCBpbnRlcmFjdGl2ZSwgdmlzdWFsLCBhbmQga2luZXN0aGV0aWMgYWN0aXZpdGllc1xyXG4gICAgICBpZiAoWydpbnRlcmFjdGl2ZScsICd2aXN1YWwnLCAna2luZXN0aGV0aWMnLCAnZ2FtZSddLmluY2x1ZGVzKGFjdGl2aXR5VHlwZSkpIHtcclxuICAgICAgICBiYXNlRW5nYWdlbWVudCArPSAwLjEgLy8gQm9vc3QgZm9yIHByZWZlcnJlZCBhY3Rpdml0eSB0eXBlc1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBNb3JlIHZhcmlhYmxlIGVuZ2FnZW1lbnQgcGF0dGVybnNcclxuICAgICAgY29uc3QgdmFyaWF0aW9uID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4zXHJcbiAgICAgIGJhc2VFbmdhZ2VtZW50ICs9IHZhcmlhdGlvblxyXG4gICAgICBcclxuICAgICAgLy8gT2NjYXNpb25hbCBoeXBlcmZvY3VzIG9uIHByZWZlcnJlZCBhY3Rpdml0aWVzXHJcbiAgICAgIGlmIChbJ2ludGVyYWN0aXZlJywgJ2dhbWUnLCAndmlzdWFsJ10uaW5jbHVkZXMoYWN0aXZpdHlUeXBlKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4yKSB7XHJcbiAgICAgICAgYmFzZUVuZ2FnZW1lbnQgPSBNYXRoLm1pbigwLjk4LCBiYXNlRW5nYWdlbWVudCArIDAuMilcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdmFyaWF0aW9uID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4yXHJcbiAgICAgIGJhc2VFbmdhZ2VtZW50ICs9IHZhcmlhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVuZ2FnZW1lbnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBiYXNlRW5nYWdlbWVudCkpXHJcblxyXG4gICAgYXdhaXQgdGhpcy5jb2xsZWN0RGF0YSh7XHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgZGF0YVR5cGU6ICdlbmdhZ2VtZW50JyxcclxuICAgICAgdmFsdWU6IGVuZ2FnZW1lbnQsXHJcbiAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgc291cmNlOiAnc2ltdWxhdGVkJyxcclxuICAgICAgICBjb25maWRlbmNlOiBhZGhkU2NvcmUgJiYgYWRoZFNjb3JlID4gNzAgPyAwLjg1IDogMC43LFxyXG4gICAgICAgIGNvbnRleHQ6IGBBY3Rpdml0eTogJHthY3Rpdml0eVR5cGV9LCBBREhEOiAke2FkaGRTY29yZSB8fCAndW5rbm93bid9YFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBlbmdhZ2VtZW50XHJcbiAgfVxyXG5cclxuICBhc3luYyBzaW11bGF0ZVBlcmZvcm1hbmNlRGF0YSh1c2VySWQ6IHN0cmluZywgdGFza0RpZmZpY3VsdHk6IG51bWJlcik6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICAvLyBTaW11bGF0ZSBwZXJmb3JtYW5jZSBiYXNlZCBvbiB0YXNrIGRpZmZpY3VsdHkgYW5kIHVzZXIgYWJpbGl0eVxyXG4gICAgY29uc3QgdXNlckFiaWxpdHkgPSAwLjYgLy8gVGhpcyBjb3VsZCBiZSBsZWFybmVkIGZyb20gaGlzdG9yaWNhbCBkYXRhXHJcbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gdGFza0RpZmZpY3VsdHlcclxuICAgIFxyXG4gICAgLy8gUGVyZm9ybWFuY2UgZGVjcmVhc2VzIGFzIGRpZmZpY3VsdHkgaW5jcmVhc2VzIGJleW9uZCB1c2VyIGFiaWxpdHlcclxuICAgIGxldCBwZXJmb3JtYW5jZSA9IHVzZXJBYmlsaXR5IC0gKGRpZmZpY3VsdHkgLSB1c2VyQWJpbGl0eSkgKiAwLjVcclxuICAgIHBlcmZvcm1hbmNlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcGVyZm9ybWFuY2UpKVxyXG4gICAgXHJcbiAgICAvLyBBZGQgc29tZSByZWFsaXN0aWMgdmFyaWF0aW9uXHJcbiAgICBjb25zdCB2YXJpYXRpb24gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjE1XHJcbiAgICBwZXJmb3JtYW5jZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHBlcmZvcm1hbmNlICsgdmFyaWF0aW9uKSlcclxuXHJcbiAgICBhd2FpdCB0aGlzLmNvbGxlY3REYXRhKHtcclxuICAgICAgdXNlcklkLFxyXG4gICAgICBkYXRhVHlwZTogJ3BlcmZvcm1hbmNlJyxcclxuICAgICAgdmFsdWU6IHBlcmZvcm1hbmNlLFxyXG4gICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgIHNvdXJjZTogJ3NpbXVsYXRlZCcsXHJcbiAgICAgICAgY29uZmlkZW5jZTogMC43NSxcclxuICAgICAgICBjb250ZXh0OiBgRGlmZmljdWx0eTogJHtkaWZmaWN1bHR5fWBcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gcGVyZm9ybWFuY2VcclxuICB9XHJcblxyXG4gIGFzeW5jIHNpbXVsYXRlTW9vZERhdGEodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xyXG4gICAgLy8gU2ltdWxhdGUgbW9vZCBiYXNlZCBvbiByZWNlbnQgcGVyZm9ybWFuY2UgYW5kIGVuZ2FnZW1lbnRcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgIGNvbnN0IGRheU9mV2VlayA9IG5vdy5nZXREYXkoKVxyXG4gICAgXHJcbiAgICAvLyBNb29kIHRlbmRzIHRvIGJlIGJldHRlciBvbiB3ZWVrZGF5cyBhbmQgd29yc2Ugb24gTW9uZGF5c1xyXG4gICAgbGV0IGJhc2VNb29kID0gMC42XHJcbiAgICBpZiAoZGF5T2ZXZWVrID09PSAxKSBiYXNlTW9vZCA9IDAuNCAvLyBNb25kYXlcclxuICAgIGVsc2UgaWYgKGRheU9mV2VlayA+PSAxICYmIGRheU9mV2VlayA8PSA1KSBiYXNlTW9vZCA9IDAuNyAvLyBXZWVrZGF5c1xyXG4gICAgZWxzZSBiYXNlTW9vZCA9IDAuOCAvLyBXZWVrZW5kXHJcblxyXG4gICAgY29uc3QgdmFyaWF0aW9uID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4zXHJcbiAgICBjb25zdCBtb29kID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgYmFzZU1vb2QgKyB2YXJpYXRpb24pKVxyXG5cclxuICAgIGF3YWl0IHRoaXMuY29sbGVjdERhdGEoe1xyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGRhdGFUeXBlOiAnbW9vZCcsXHJcbiAgICAgIHZhbHVlOiBtb29kLFxyXG4gICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgIHNvdXJjZTogJ3NpbXVsYXRlZCcsXHJcbiAgICAgICAgY29uZmlkZW5jZTogMC42LFxyXG4gICAgICAgIGNvbnRleHQ6IGBEYXk6ICR7ZGF5T2ZXZWVrfWBcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gbW9vZFxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UmVjZW50RGF0YSh1c2VySWQ6IHN0cmluZywgZGF0YVR5cGU6IHN0cmluZywgbWludXRlczogbnVtYmVyID0gMzApOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzaW5jZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSBtaW51dGVzICogNjAgKiAxMDAwKVxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgUmVhbFRpbWVEYXRhLmZpbmQoe1xyXG4gICAgICAgIHVzZXJJZCxcclxuICAgICAgICBkYXRhVHlwZSxcclxuICAgICAgICB0aW1lc3RhbXA6IHsgJGd0ZTogc2luY2UgfVxyXG4gICAgICB9KS5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KS5saW1pdCgxMDApXHJcblxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCByZWNlbnQgZGF0YTonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIFtdXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXREYXRhU3VtbWFyeSh1c2VySWQ6IHN0cmluZywgaG91cnM6IG51bWJlciA9IDI0KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNpbmNlID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIGhvdXJzICogNjAgKiA2MCAqIDEwMDApXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBSZWFsVGltZURhdGEuZmluZCh7XHJcbiAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIHRpbWVzdGFtcDogeyAkZ3RlOiBzaW5jZSB9XHJcbiAgICAgIH0pLnNvcnQoeyB0aW1lc3RhbXA6IC0xIH0pXHJcblxyXG4gICAgICAvLyBHcm91cCBieSBkYXRhIHR5cGUgYW5kIGNhbGN1bGF0ZSBhdmVyYWdlc1xyXG4gICAgICBjb25zdCBzdW1tYXJ5OiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge31cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGFUeXBlcyA9IFsnYXR0ZW50aW9uJywgJ2VuZ2FnZW1lbnQnLCAncGVyZm9ybWFuY2UnLCAnbW9vZCcsICdhY3Rpdml0eSddXHJcbiAgICAgIFxyXG4gICAgICBkYXRhVHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgICBjb25zdCB0eXBlRGF0YSA9IGRhdGEuZmlsdGVyKGQgPT4gZC5kYXRhVHlwZSA9PT0gdHlwZSlcclxuICAgICAgICBpZiAodHlwZURhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gdHlwZURhdGEubWFwKGQgPT4gZC52YWx1ZSlcclxuICAgICAgICAgIHN1bW1hcnlbdHlwZV0gPSB7XHJcbiAgICAgICAgICAgIGF2ZXJhZ2U6IHZhbHVlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHZhbHVlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG1pbjogTWF0aC5taW4oLi4udmFsdWVzKSxcclxuICAgICAgICAgICAgbWF4OiBNYXRoLm1heCguLi52YWx1ZXMpLFxyXG4gICAgICAgICAgICBjb3VudDogdmFsdWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgdHJlbmQ6IHRoaXMuY2FsY3VsYXRlVHJlbmQodmFsdWVzKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVybiBzdW1tYXJ5XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGRhdGEgc3VtbWFyeTonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIHt9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZVRyZW5kKHZhbHVlczogbnVtYmVyW10pOiAndXAnIHwgJ2Rvd24nIHwgJ3N0YWJsZScge1xyXG4gICAgaWYgKHZhbHVlcy5sZW5ndGggPCAyKSByZXR1cm4gJ3N0YWJsZSdcclxuICAgIFxyXG4gICAgY29uc3QgZmlyc3RIYWxmID0gdmFsdWVzLnNsaWNlKDAsIE1hdGguZmxvb3IodmFsdWVzLmxlbmd0aCAvIDIpKVxyXG4gICAgY29uc3Qgc2Vjb25kSGFsZiA9IHZhbHVlcy5zbGljZShNYXRoLmZsb29yKHZhbHVlcy5sZW5ndGggLyAyKSlcclxuICAgIFxyXG4gICAgY29uc3QgZmlyc3RBdmcgPSBmaXJzdEhhbGYucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBmaXJzdEhhbGYubGVuZ3RoXHJcbiAgICBjb25zdCBzZWNvbmRBdmcgPSBzZWNvbmRIYWxmLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gc2Vjb25kSGFsZi5sZW5ndGhcclxuICAgIFxyXG4gICAgY29uc3QgZGlmZiA9IHNlY29uZEF2ZyAtIGZpcnN0QXZnXHJcbiAgICBcclxuICAgIGlmIChkaWZmID4gMC4xKSByZXR1cm4gJ3VwJ1xyXG4gICAgaWYgKGRpZmYgPCAtMC4xKSByZXR1cm4gJ2Rvd24nXHJcbiAgICByZXR1cm4gJ3N0YWJsZSdcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5mbHVzaEludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5mbHVzaEludGVydmFsKVxyXG4gICAgfVxyXG4gICAgdGhpcy5mbHVzaEJ1ZmZlcigpIC8vIEZpbmFsIGZsdXNoXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGF0YUNvbGxlY3RvciA9IFJlYWxUaW1lRGF0YUNvbGxlY3Rvci5nZXRJbnN0YW5jZSgpXHJcbiJdLCJuYW1lcyI6WyJSZWFsVGltZURhdGEiLCJjb25uZWN0VG9EYXRhYmFzZSIsIlJlYWxUaW1lRGF0YUNvbGxlY3RvciIsImRhdGFCdWZmZXIiLCJmbHVzaEludGVydmFsIiwiQlVGRkVSX1NJWkUiLCJGTFVTSF9JTlRFUlZBTCIsInN0YXJ0Rmx1c2hUaW1lciIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJjb2xsZWN0RGF0YSIsImRhdGFQb2ludCIsInB1c2giLCJsZW5ndGgiLCJmbHVzaEJ1ZmZlciIsInNldEludGVydmFsIiwiZGF0YVRvU2F2ZSIsIm1hcCIsInBvaW50IiwidXNlcklkIiwidGltZXN0YW1wIiwiRGF0ZSIsImRhdGFUeXBlIiwidmFsdWUiLCJtZXRhZGF0YSIsImluc2VydE1hbnkiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJzaW11bGF0ZUF0dGVudGlvbkRhdGEiLCJhZGhkU2NvcmUiLCJub3ciLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwiYmFzZUF0dGVudGlvbiIsImFkaGRWYXJpYXRpb24iLCJNYXRoIiwicmFuZG9tIiwibWluIiwibWF4IiwidmFyaWF0aW9uIiwiYXR0ZW50aW9uIiwic291cmNlIiwiY29uZmlkZW5jZSIsImNvbnRleHQiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwic2ltdWxhdGVFbmdhZ2VtZW50RGF0YSIsImFjdGl2aXR5VHlwZSIsImVuZ2FnZW1lbnRNYXAiLCJiYXNlRW5nYWdlbWVudCIsImluY2x1ZGVzIiwiZW5nYWdlbWVudCIsInNpbXVsYXRlUGVyZm9ybWFuY2VEYXRhIiwidGFza0RpZmZpY3VsdHkiLCJ1c2VyQWJpbGl0eSIsImRpZmZpY3VsdHkiLCJwZXJmb3JtYW5jZSIsInNpbXVsYXRlTW9vZERhdGEiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJiYXNlTW9vZCIsIm1vb2QiLCJnZXRSZWNlbnREYXRhIiwibWludXRlcyIsInNpbmNlIiwiZGF0YSIsImZpbmQiLCIkZ3RlIiwic29ydCIsImxpbWl0IiwiZ2V0RGF0YVN1bW1hcnkiLCJob3VycyIsInN1bW1hcnkiLCJkYXRhVHlwZXMiLCJmb3JFYWNoIiwidHlwZSIsInR5cGVEYXRhIiwiZmlsdGVyIiwiZCIsInZhbHVlcyIsImF2ZXJhZ2UiLCJyZWR1Y2UiLCJhIiwiYiIsImNvdW50IiwidHJlbmQiLCJjYWxjdWxhdGVUcmVuZCIsImZpcnN0SGFsZiIsInNsaWNlIiwiZmxvb3IiLCJzZWNvbmRIYWxmIiwiZmlyc3RBdmciLCJzZWNvbmRBdmciLCJkaWZmIiwiZGVzdHJveSIsImNsZWFySW50ZXJ2YWwiLCJkYXRhQ29sbGVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/realtime/collector.ts\n");

/***/ }),

/***/ "(rsc)/./models/Prediction.ts":
/*!******************************!*\
  !*** ./models/Prediction.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Prediction: () => (/* binding */ Prediction)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PredictionSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    predictionType: {\n        type: String,\n        enum: [\n            \"attention_trend\",\n            \"performance_forecast\",\n            \"engagement_level\",\n            \"optimal_break_time\",\n            \"learning_style\"\n        ],\n        required: true\n    },\n    predictedValue: {\n        type: Number,\n        required: true\n    },\n    confidence: {\n        type: Number,\n        required: true,\n        min: 0,\n        max: 1\n    },\n    timeHorizon: {\n        type: Number,\n        required: true\n    },\n    inputFeatures: {\n        recentAttention: [\n            Number\n        ],\n        recentPerformance: [\n            Number\n        ],\n        timeOfDay: Number,\n        dayOfWeek: Number,\n        sessionDuration: Number,\n        breakCount: Number\n    },\n    actualValue: Number,\n    accuracy: Number,\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true\n});\n// Index for efficient queries\nPredictionSchema.index({\n    userId: 1,\n    predictionType: 1,\n    createdAt: -1\n});\nPredictionSchema.index({\n    userId: 1,\n    createdAt: -1\n});\nconst Prediction = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Prediction || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Prediction\", PredictionSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvUHJlZGljdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEQ7QUFxQjVELE1BQU1FLG1CQUFtQixJQUFJRCw0Q0FBTUEsQ0FBYztJQUMvQ0UsUUFBUTtRQUFFQyxNQUFNSCw0Q0FBTUEsQ0FBQ0ksS0FBSyxDQUFDQyxRQUFRO1FBQUVDLEtBQUs7UUFBUUMsVUFBVTtJQUFLO0lBQ25FQyxnQkFBZ0I7UUFDZEwsTUFBTU07UUFDTkMsTUFBTTtZQUFDO1lBQW1CO1lBQXdCO1lBQW9CO1lBQXNCO1NBQWlCO1FBQzdHSCxVQUFVO0lBQ1o7SUFDQUksZ0JBQWdCO1FBQUVSLE1BQU1TO1FBQVFMLFVBQVU7SUFBSztJQUMvQ00sWUFBWTtRQUFFVixNQUFNUztRQUFRTCxVQUFVO1FBQU1PLEtBQUs7UUFBR0MsS0FBSztJQUFFO0lBQzNEQyxhQUFhO1FBQUViLE1BQU1TO1FBQVFMLFVBQVU7SUFBSztJQUM1Q1UsZUFBZTtRQUNiQyxpQkFBaUI7WUFBQ047U0FBTztRQUN6Qk8sbUJBQW1CO1lBQUNQO1NBQU87UUFDM0JRLFdBQVdSO1FBQ1hTLFdBQVdUO1FBQ1hVLGlCQUFpQlY7UUFDakJXLFlBQVlYO0lBQ2Q7SUFDQVksYUFBYVo7SUFDYmEsVUFBVWI7SUFDVmMsV0FBVztRQUFFdkIsTUFBTXdCO1FBQU1DLFNBQVNELEtBQUtFLEdBQUc7SUFBQztBQUM3QyxHQUFHO0lBQUVDLFlBQVk7QUFBSztBQUV0Qiw4QkFBOEI7QUFDOUI3QixpQkFBaUI4QixLQUFLLENBQUM7SUFBRTdCLFFBQVE7SUFBR00sZ0JBQWdCO0lBQUdrQixXQUFXLENBQUM7QUFBRTtBQUNyRXpCLGlCQUFpQjhCLEtBQUssQ0FBQztJQUFFN0IsUUFBUTtJQUFHd0IsV0FBVyxDQUFDO0FBQUU7QUFFM0MsTUFBTU0sYUFBaUNqQyx3REFBZSxDQUFDaUMsVUFBVSxJQUFJakMscURBQWMsQ0FBYyxjQUFjRSxrQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2N1c2Zsb3cvLi9tb2RlbHMvUHJlZGljdGlvbi50cz80NDQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEsIERvY3VtZW50LCBNb2RlbCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJlZGljdGlvbiBleHRlbmRzIERvY3VtZW50IHtcclxuICB1c2VySWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkXHJcbiAgcHJlZGljdGlvblR5cGU6ICdhdHRlbnRpb25fdHJlbmQnIHwgJ3BlcmZvcm1hbmNlX2ZvcmVjYXN0JyB8ICdlbmdhZ2VtZW50X2xldmVsJyB8ICdvcHRpbWFsX2JyZWFrX3RpbWUnIHwgJ2xlYXJuaW5nX3N0eWxlJ1xyXG4gIHByZWRpY3RlZFZhbHVlOiBudW1iZXJcclxuICBjb25maWRlbmNlOiBudW1iZXJcclxuICB0aW1lSG9yaXpvbjogbnVtYmVyIC8vIG1pbnV0ZXMgaW50byB0aGUgZnV0dXJlXHJcbiAgaW5wdXRGZWF0dXJlczoge1xyXG4gICAgcmVjZW50QXR0ZW50aW9uOiBudW1iZXJbXVxyXG4gICAgcmVjZW50UGVyZm9ybWFuY2U6IG51bWJlcltdXHJcbiAgICB0aW1lT2ZEYXk6IG51bWJlclxyXG4gICAgZGF5T2ZXZWVrOiBudW1iZXJcclxuICAgIHNlc3Npb25EdXJhdGlvbjogbnVtYmVyXHJcbiAgICBicmVha0NvdW50OiBudW1iZXJcclxuICB9XHJcbiAgYWN0dWFsVmFsdWU/OiBudW1iZXIgLy8gZm9yIHZhbGlkYXRpb25cclxuICBhY2N1cmFjeT86IG51bWJlciAvLyBjYWxjdWxhdGVkIGFjY3VyYWN5XHJcbiAgY3JlYXRlZEF0OiBEYXRlXHJcbn1cclxuXHJcbmNvbnN0IFByZWRpY3Rpb25TY2hlbWEgPSBuZXcgU2NoZW1hPElQcmVkaWN0aW9uPih7XHJcbiAgdXNlcklkOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJlZGljdGlvblR5cGU6IHsgXHJcbiAgICB0eXBlOiBTdHJpbmcsIFxyXG4gICAgZW51bTogWydhdHRlbnRpb25fdHJlbmQnLCAncGVyZm9ybWFuY2VfZm9yZWNhc3QnLCAnZW5nYWdlbWVudF9sZXZlbCcsICdvcHRpbWFsX2JyZWFrX3RpbWUnLCAnbGVhcm5pbmdfc3R5bGUnXSxcclxuICAgIHJlcXVpcmVkOiB0cnVlIFxyXG4gIH0sXHJcbiAgcHJlZGljdGVkVmFsdWU6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNvbmZpZGVuY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgbWluOiAwLCBtYXg6IDEgfSxcclxuICB0aW1lSG9yaXpvbjogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sIC8vIGluIG1pbnV0ZXNcclxuICBpbnB1dEZlYXR1cmVzOiB7XHJcbiAgICByZWNlbnRBdHRlbnRpb246IFtOdW1iZXJdLFxyXG4gICAgcmVjZW50UGVyZm9ybWFuY2U6IFtOdW1iZXJdLFxyXG4gICAgdGltZU9mRGF5OiBOdW1iZXIsXHJcbiAgICBkYXlPZldlZWs6IE51bWJlcixcclxuICAgIHNlc3Npb25EdXJhdGlvbjogTnVtYmVyLFxyXG4gICAgYnJlYWtDb3VudDogTnVtYmVyXHJcbiAgfSxcclxuICBhY3R1YWxWYWx1ZTogTnVtYmVyLFxyXG4gIGFjY3VyYWN5OiBOdW1iZXIsXHJcbiAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cclxufSwgeyB0aW1lc3RhbXBzOiB0cnVlIH0pXHJcblxyXG4vLyBJbmRleCBmb3IgZWZmaWNpZW50IHF1ZXJpZXNcclxuUHJlZGljdGlvblNjaGVtYS5pbmRleCh7IHVzZXJJZDogMSwgcHJlZGljdGlvblR5cGU6IDEsIGNyZWF0ZWRBdDogLTEgfSlcclxuUHJlZGljdGlvblNjaGVtYS5pbmRleCh7IHVzZXJJZDogMSwgY3JlYXRlZEF0OiAtMSB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IFByZWRpY3Rpb246IE1vZGVsPElQcmVkaWN0aW9uPiA9IG1vbmdvb3NlLm1vZGVscy5QcmVkaWN0aW9uIHx8IG1vbmdvb3NlLm1vZGVsPElQcmVkaWN0aW9uPignUHJlZGljdGlvbicsIFByZWRpY3Rpb25TY2hlbWEpXHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlByZWRpY3Rpb25TY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJlZGljdGlvblR5cGUiLCJTdHJpbmciLCJlbnVtIiwicHJlZGljdGVkVmFsdWUiLCJOdW1iZXIiLCJjb25maWRlbmNlIiwibWluIiwibWF4IiwidGltZUhvcml6b24iLCJpbnB1dEZlYXR1cmVzIiwicmVjZW50QXR0ZW50aW9uIiwicmVjZW50UGVyZm9ybWFuY2UiLCJ0aW1lT2ZEYXkiLCJkYXlPZldlZWsiLCJzZXNzaW9uRHVyYXRpb24iLCJicmVha0NvdW50IiwiYWN0dWFsVmFsdWUiLCJhY2N1cmFjeSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwidGltZXN0YW1wcyIsImluZGV4IiwiUHJlZGljdGlvbiIsIm1vZGVscyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/Prediction.ts\n");

/***/ }),

/***/ "(rsc)/./models/RealTimeData.ts":
/*!********************************!*\
  !*** ./models/RealTimeData.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RealTimeData: () => (/* binding */ RealTimeData)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst RealTimeDataSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    timestamp: {\n        type: Date,\n        default: Date.now,\n        index: true\n    },\n    dataType: {\n        type: String,\n        enum: [\n            \"attention\",\n            \"engagement\",\n            \"performance\",\n            \"mood\",\n            \"activity\"\n        ],\n        required: true\n    },\n    value: {\n        type: Number,\n        required: true,\n        min: 0,\n        max: 1\n    },\n    metadata: {\n        source: String,\n        confidence: {\n            type: Number,\n            min: 0,\n            max: 1\n        },\n        context: String,\n        deviceInfo: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n    }\n}, {\n    timestamps: true\n});\n// Index for efficient queries\nRealTimeDataSchema.index({\n    userId: 1,\n    timestamp: -1\n});\nRealTimeDataSchema.index({\n    userId: 1,\n    dataType: 1,\n    timestamp: -1\n});\nconst RealTimeData = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).RealTimeData || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"RealTimeData\", RealTimeDataSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvUmVhbFRpbWVEYXRhLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RDtBQWU1RCxNQUFNRSxxQkFBcUIsSUFBSUQsNENBQU1BLENBQWdCO0lBQ25ERSxRQUFRO1FBQUVDLE1BQU1ILDRDQUFNQSxDQUFDSSxLQUFLLENBQUNDLFFBQVE7UUFBRUMsS0FBSztRQUFRQyxVQUFVO0lBQUs7SUFDbkVDLFdBQVc7UUFBRUwsTUFBTU07UUFBTUMsU0FBU0QsS0FBS0UsR0FBRztRQUFFQyxPQUFPO0lBQUs7SUFDeERDLFVBQVU7UUFDUlYsTUFBTVc7UUFDTkMsTUFBTTtZQUFDO1lBQWE7WUFBYztZQUFlO1lBQVE7U0FBVztRQUNwRVIsVUFBVTtJQUNaO0lBQ0FTLE9BQU87UUFBRWIsTUFBTWM7UUFBUVYsVUFBVTtRQUFNVyxLQUFLO1FBQUdDLEtBQUs7SUFBRTtJQUN0REMsVUFBVTtRQUNSQyxRQUFRUDtRQUNSUSxZQUFZO1lBQUVuQixNQUFNYztZQUFRQyxLQUFLO1lBQUdDLEtBQUs7UUFBRTtRQUMzQ0ksU0FBU1Q7UUFDVFUsWUFBWXhCLDRDQUFNQSxDQUFDSSxLQUFLLENBQUNxQixLQUFLO0lBQ2hDO0FBQ0YsR0FBRztJQUFFQyxZQUFZO0FBQUs7QUFFdEIsOEJBQThCO0FBQzlCekIsbUJBQW1CVyxLQUFLLENBQUM7SUFBRVYsUUFBUTtJQUFHTSxXQUFXLENBQUM7QUFBRTtBQUNwRFAsbUJBQW1CVyxLQUFLLENBQUM7SUFBRVYsUUFBUTtJQUFHVyxVQUFVO0lBQUdMLFdBQVcsQ0FBQztBQUFFO0FBRTFELE1BQU1tQixlQUFxQzVCLHdEQUFlLENBQUM0QixZQUFZLElBQUk1QixxREFBYyxDQUFnQixnQkFBZ0JFLG9CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvY3VzZmxvdy8uL21vZGVscy9SZWFsVGltZURhdGEudHM/OGJlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCwgTW9kZWwgfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVJlYWxUaW1lRGF0YSBleHRlbmRzIERvY3VtZW50IHtcclxuICB1c2VySWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkXHJcbiAgdGltZXN0YW1wOiBEYXRlXHJcbiAgZGF0YVR5cGU6ICdhdHRlbnRpb24nIHwgJ2VuZ2FnZW1lbnQnIHwgJ3BlcmZvcm1hbmNlJyB8ICdtb29kJyB8ICdhY3Rpdml0eSdcclxuICB2YWx1ZTogbnVtYmVyXHJcbiAgbWV0YWRhdGE/OiB7XHJcbiAgICBzb3VyY2U/OiBzdHJpbmdcclxuICAgIGNvbmZpZGVuY2U/OiBudW1iZXJcclxuICAgIGNvbnRleHQ/OiBzdHJpbmdcclxuICAgIGRldmljZUluZm8/OiBhbnlcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFJlYWxUaW1lRGF0YVNjaGVtYSA9IG5ldyBTY2hlbWE8SVJlYWxUaW1lRGF0YT4oe1xyXG4gIHVzZXJJZDogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHRpbWVzdGFtcDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdywgaW5kZXg6IHRydWUgfSxcclxuICBkYXRhVHlwZTogeyBcclxuICAgIHR5cGU6IFN0cmluZywgXHJcbiAgICBlbnVtOiBbJ2F0dGVudGlvbicsICdlbmdhZ2VtZW50JywgJ3BlcmZvcm1hbmNlJywgJ21vb2QnLCAnYWN0aXZpdHknXSwgXHJcbiAgICByZXF1aXJlZDogdHJ1ZSBcclxuICB9LFxyXG4gIHZhbHVlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIG1pbjogMCwgbWF4OiAxIH0sXHJcbiAgbWV0YWRhdGE6IHtcclxuICAgIHNvdXJjZTogU3RyaW5nLFxyXG4gICAgY29uZmlkZW5jZTogeyB0eXBlOiBOdW1iZXIsIG1pbjogMCwgbWF4OiAxIH0sXHJcbiAgICBjb250ZXh0OiBTdHJpbmcsXHJcbiAgICBkZXZpY2VJbmZvOiBTY2hlbWEuVHlwZXMuTWl4ZWRcclxuICB9XHJcbn0sIHsgdGltZXN0YW1wczogdHJ1ZSB9KVxyXG5cclxuLy8gSW5kZXggZm9yIGVmZmljaWVudCBxdWVyaWVzXHJcblJlYWxUaW1lRGF0YVNjaGVtYS5pbmRleCh7IHVzZXJJZDogMSwgdGltZXN0YW1wOiAtMSB9KVxyXG5SZWFsVGltZURhdGFTY2hlbWEuaW5kZXgoeyB1c2VySWQ6IDEsIGRhdGFUeXBlOiAxLCB0aW1lc3RhbXA6IC0xIH0pXHJcblxyXG5leHBvcnQgY29uc3QgUmVhbFRpbWVEYXRhOiBNb2RlbDxJUmVhbFRpbWVEYXRhPiA9IG1vbmdvb3NlLm1vZGVscy5SZWFsVGltZURhdGEgfHwgbW9uZ29vc2UubW9kZWw8SVJlYWxUaW1lRGF0YT4oJ1JlYWxUaW1lRGF0YScsIFJlYWxUaW1lRGF0YVNjaGVtYSlcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiUmVhbFRpbWVEYXRhU2NoZW1hIiwidXNlcklkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwiaW5kZXgiLCJkYXRhVHlwZSIsIlN0cmluZyIsImVudW0iLCJ2YWx1ZSIsIk51bWJlciIsIm1pbiIsIm1heCIsIm1ldGFkYXRhIiwic291cmNlIiwiY29uZmlkZW5jZSIsImNvbnRleHQiLCJkZXZpY2VJbmZvIiwiTWl4ZWQiLCJ0aW1lc3RhbXBzIiwiUmVhbFRpbWVEYXRhIiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./models/RealTimeData.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/@tensorflow","vendor-chunks/node-fetch","vendor-chunks/seedrandom","vendor-chunks/long"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Fpredict%2Froute&page=%2Fapi%2Frealtime%2Fpredict%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Fpredict%2Froute.ts&appDir=D%3A%5Cmini_adhd1%5Cmini_adhd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmini_adhd1%5Cmini_adhd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();